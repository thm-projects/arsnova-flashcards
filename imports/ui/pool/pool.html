<template name="pool">
    <div class="col-md-12" id="pool-category-region">
        <!--<div class="list-group">
            {{#each getCategories}}
                <a class="list-group-item" href="pool/{{_id}}">
                    <span class="badge">{{getCount this._id}}</span> {{name}}</a>
            {{/each}}
        </div>-->
        <table class="table table-bordered table-hover">
            <thead class="set-list">
            <tr>
                <th>
                    <div class="dropdown">
                        <button class="btn btn-link dropdown-toggle" type="button" data-toggle="dropdown">
                            {{_ "set-list.moduleLong"}}
                            <span class="caret"></span></button>
                        <ul class="dropdown-menu">
                            <li><a href="#"></a></li>
                        </ul>
                    </div>
                </th>
                <th>
                    <button id="lastNameButton" class="btn btn-link" role="button" value="down">
                        <span>{{_ "set-list.lastName"}}</span>
                        <span class="glyphicon glyphicon-sort"></span>
                    </button>
                </th>
                <th>
                    <div class="dropdown">
                        <button class="btn btn-link dropdown-toggle" type="button" data-toggle="dropdown">
                            {{_ "set-list.degree"}}
                            <span class="caret"></span></button>
                        <ul class="dropdown-menu">
                            <li><a href="#"></a></li>
                        </ul>
                    </div>
                </th>
                <th>
                    <div class="dropdown">
                        <button class="btn btn-link dropdown-toggle" type="button" data-toggle="dropdown">
                            {{_ "set-list.academicCourse"}}
                            <span class="caret"></span></button>
                        <ul class="dropdown-menu">
                            <li><a href="#"></a></li>
                        </ul>
                    </div>
                </th>
                <th>
                    <div class="dropdown">
                        <button class="btn btn-link dropdown-toggle" type="button" data-toggle="dropdown">
                            {{_ "set-list.department"}}
                            <span class="caret"></span></button>
                        <ul class="dropdown-menu">
                            <li><a href="#"></a></li>
                        </ul>
                    </div>
                </th>
                <th>
                    <div class="dropdown">
                        <button class="btn btn-link dropdown-toggle" type="button" data-toggle="dropdown">
                            {{_ "set-list.studyType"}}
                            <span class="caret"></span></button>
                        <ul class="dropdown-menu">
                            <li><a href="#"></a></li>
                        </ul>
                    </div>
                </th>
            </tr>
            </thead>
            <tbody id="cardSetView">
            {{#if cardsetList.count}}
                {{#each cardsetList}}
                    {{> poolCardsetRow}}
                {{/each}}
            {{else}}
                {{> poolCardsetEmpty}}
            {{/if}}
            </tbody>
        </table>
    </div>
</template>

<template name="poolCardsetRow">
    <tr class="poolCardsetRow">
        <td>{{moduleLong}}</td>
        <td>{{lastName}}</td>
        <td>{{degree}}</td>
        <td>{{academicCourse}}</td>
        <td>{{department}}</td>
        <td>{{studyType}}</td>
    </tr>
</template>


<template name="poolCardsetEmpty">
    <tr class="empty-list">
        <td align="center" height="60" colspan="6" class="emptyCellList set-list-empty">
            <span class="emptyTextList">{{_ "set-list-empty.emptypooltextlist"}}</span>
            <br>
            <button id="setListEmpty" class="btn btn-primary btn-newSet" data-toggle="modal" data-target="#newSetModal">{{_ "set-list-empty.newset"}}</button>
        </td>
    </tr>
</template>

<template name="category">
    <div class="categories">
        <div class="col-md-12">
            <div class="panel panel-default">
                <div class="panel-body">
                    <div class="col-md-6">
                        <h4>{{name}}</h4>
                    </div>
                    <div class="col-md-6">
                        <div id="filterCheckbox" class="btn-group" data-toggle="buttons">
                            <label class="btn btn-default active">
                                <input type="checkbox" autocomplete="off" value="free" checked> Free
                            </label>
                            <label class="btn btn-success active">
                                <input type="checkbox" autocomplete="off" value="edu" checked> Edu
                            </label>
                            <label class="btn btn-info active">
                                <input type="checkbox" autocomplete="off" value="pro" checked> Pro
                            </label>
                        </div>
                        <div class="btn-group pull-right">
                            <button id="sortRelevance" class="btn btn-default" type="button">{{_
                                    "pool.relevance"}} {{{getSortRelevanceIcon}}}</button>
                            <button id="sortName" class="btn btn-default" type="button">{{_
                                    "pool.name"}} {{{getSortNameIcon}}}</button>
                            <button id="sortUser" class="btn btn-default" type="button">{{_
                                    "pool.author"}} {{{getSortUserIcon}}}</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        {{#if getDecks.count}}
            {{#each getDecks}}
                <div class="col-md-12">
                    <a href="/cardset/{{_id}}">
                        <div class="panel panel-default">
                            <div class="panel-body">
                                <div class="col-sm-8">
                                    <div class="">
                                        <h4>{{{getKind}}} {{name}}</h4>
                                        <hr> {{description}}
                                    </div>
                                </div>
                                <div class="col-sm-4">
                                    <div class="well">
                                        <strong class="left">{{_ "pool.rating"}}
                                            :</strong> {{> starsRating id='ratingLocked' rating=getAverage mutable=false}}
                                        <hr>
                                        <strong>{{_ "pool.quantity"}}:</strong> {{countCards this._id}}
                                        <br>
                                        <strong>{{_ "pool.author"}}:</strong>
                                        {{#if userExists userDeleted}}
                                            {{username}}
                                        {{else}}
                                            {{username}} ({{_ "pool.deleted"}})
                                        {{/if}}
                                        <br>
                                        <strong>{{_ "pool.release"}}:</strong> {{getDate}}
                                        <br>
                                        <strong>{{_ "pool.dateUpdated"}}:</strong> {{getDateUpdated}}
                                        <br>
                                        <strong>{{_ "pool.license"}}:</strong>
                                        <span id="pool_license">{{getLicense}}</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </a>
                </div>
            {{/each}}
        {{else}}
            <div class="col-md-12">
                <div class="panel panel-default">
                    <div class="panel-body">
                        <span class="emptyTextList">{{_ "nocards"}}</span>
                    </div>
                </div>
            </div>
        {{/if}}
    </div>
</template>
