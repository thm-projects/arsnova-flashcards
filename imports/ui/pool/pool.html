<template name="pool">
    {{#if isInRole 'firstLogin'}}
        {{> first_login_content_only}}
    {{else}}
        {{#if isInRole 'blocked'}}
            {{> access_denied_content_only}}
        {{else}}
            <div id="pool-category-region" class="container">
                {{> category}}
                {{> enterActiveLearnphaseModal}}
            </div>
        {{/if}}
    {{/if}}
</template>

<template name="category">
    {{#if getDecks 0}}
        {{> filterNavigation}}
        {{#if getDecks 1}}
            {{#each getDecks 2}}
                {{> cardsetCourseIterationResultRow extendContext 'index' @index}}
            {{/each}}
            {{> infiniteScroll}}
        {{else}}
            {{> noFilterResults}}
        {{/if}}
    {{else}}
        {{> noResults}}
    {{/if}}
</template>

<template name="enterActiveLearnphaseModal">
    <div class="modal fade" id="enterActiveLearnphaseModal" tabindex="-1" role="dialog"
         aria-labelledby="enterActiveLearnphaseTitle">
        <div class="modal-dialog">
            <div class="modal-content modal-content-for-buttons col-xs-12">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                    <h4 id="enterActiveLearnphaseTitle" class="modal-title">{{_ "confirm-enter-learnphase.title"}}</h4>
                </div>
                <div class="modal-body">
                    <p>{{_ "confirm-enter-learnphase.text"}}</p>
                    <ul>
                        <li>{{_ "panel-body.givenname"}}</li>
                        <li>{{_ "panel-body.birthname"}}</li>
                        <li>{{_ "panel-body.email"}}</li>
                    </ul>
                    <p>{{_ "confirm-enter-learnphase.text2"}}</p>
                </div>
                <hr>
                <button id="enterActiveLearnphaseConfirm"
                        class="btn btn-success btn-raised btn-block active">{{_
                        "confirm-enter-learnphase.enter"}}</button>
                <button id="enterActiveLearnphaseCancel" class="btn btn-default btn-block btn-raised col-xs-12"
                        data-dismiss="modal">{{_ "confirm-enter-learnphase.close"}}</button>
            </div>
            <!-- /.modal-content -->
        </div>
        <!-- /.modal-dialog -->
    </div>
    <!-- /.modal -->
</template>
