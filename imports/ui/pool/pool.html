<template name="pool">
    <div id="pool-category-region">
        {{> category}}
    </div>
</template>

<template name="category">
    <table class="table table-bordered table-striped table-hover">
        <caption id="poolCaption">
            {{_ "set-list.title"}}
        </caption>
        <thead class="set-list">
        <tr>
            <th>
                <div class="btn-group">
                    <button class="sortTopic btn btn-default" role="button" value="down" data-toggle="dropdown">
                        {{_ "set-list.topic"}} </button>
                    <button type="button" class="sortTopic btn btn-default dropdown-toggle" value="down"
                            data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        <span class="glyphicon glyphicon-sort"></span>
                    </button>
                </div>
            </th>
            <th>
                <div class="btn-group">
                    <button type="button" class="btn btn-default" data-toggle="dropdown">
                        {{_ "set-list.autor"}}</button>
                    <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown"
                            aria-haspopup="true" aria-expanded="false">
                        <span class="glyphicon glyphicon-filter"></span>
                        <span class="sr-only">Toggle Dropdown</span>
                    </button>
                    <ul class="dropdown-menu">
                        <li><a href="#" class="filterAutor" data-id="">{{_ "set-list.everyone"}}</a></li>
                        {{#each getAutors}}
                            <li><a href="#" class="filterAutor"
                                   data-id="{{this.lastName}}">{{this.degree}} {{this.firstName}} {{this.lastName}}</a>
                            </li>
                        {{/each}}
                    </ul>
                </div>
            </th>
            <th>
                <div class="btn-group">
                    <button type="button" class="btn btn-default" data-toggle="dropdown">
                        {{_ "set-list.moduleLong"}}</button>
                    <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown"
                            aria-haspopup="true" aria-expanded="false">
                        <span class="glyphicon glyphicon-filter"></span>
                        <span class="sr-only">Toggle Dropdown</span>
                    </button>
                    <ul class="dropdown-menu">
                        <li><a href="#" class="filterModule" data-id="">{{_ "set-list.everything"}}</a></li>
                        {{#each getModules}}
                            <li><a href="#" class="filterModule" data-id="{{this.moduleShort}}">({{this.moduleShort}})
                                {{this.moduleLong}}</a></li>
                        {{/each}}
                    </ul>
                </div>
            </th>
            <th>
                <div class="btn-group">
                    <button type="button" class="btn btn-default" data-toggle="dropdown">
                        {{_ "set-list.academicCourse"}}</button>
                    <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown"
                            aria-haspopup="true" aria-expanded="false">
                        <span class="glyphicon glyphicon-filter"></span>
                        <span class="sr-only">Toggle Dropdown</span>
                    </button>
                    <ul class="dropdown-menu">
                        <li><a href="#" class="filterCourse" data-id="">{{_ "set-list.everything"}}</a></li>
                        {{#each getCourses}}
                            <li><a href="#" class="filterCourse" data-id="{{this}}">{{this}}</a></li>
                        {{/each}}
                    </ul>
                </div>
            </th>
            <th>
                <div class="btn-group">
                    <button type="button" class="btn btn-default" data-toggle="dropdown">
                        {{_ "set-list.department"}}</button>
                    <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown"
                            aria-haspopup="true" aria-expanded="false">
                        <span class="glyphicon glyphicon-filter"></span>
                        <span class="sr-only">Toggle Dropdown</span>
                    </button>
                    <ul class="dropdown-menu">
                        <li><a href="#" class="filterDepartment" data-id="">{{_ "set-list.everything"}}</a></li>
                        {{#each getDepartments}}
                            <li><a href="#" class="filterDepartment" data-id="{{this.department}}">({{this.department}})
                                {{this.departmentLong}}</a></li>
                        {{/each}}
                    </ul>
                </div>
            </th>
            <th>
                <div class="btn-group">
                    <button type="button" class="btn btn-default" data-toggle="dropdown">
                        {{_ "set-list.studyType"}}</button>
                    <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown"
                            aria-haspopup="true" aria-expanded="false">
                        <span class="glyphicon glyphicon-filter"></span>
                        <span class="sr-only">Toggle Dropdown</span>
                    </button>
                    <ul class="dropdown-menu">
                        <li><a href="#" class="filterType" data-id="">{{_ "set-list.everything"}}</a></li>
                        {{#each getTypes}}
                            <li><a href="#" class="filterType" data-id="{{this}}">{{this}}</a></li>
                        {{/each}}
                    </ul>
                </div>
            </th>
            <th>
                <div id="filterCheckbox" class="btn-group" data-toggle="buttons">
                    <label class="btn btn-default active">
                        <input type="checkbox" autocomplete="off" value="free" checked=""> Free
                    </label>
                    <label class="btn btn-success active">
                        <input type="checkbox" autocomplete="off" value="edu" checked=""> Edu
                    </label>
                    <label class="btn btn-info active">
                        <input type="checkbox" autocomplete="off" value="pro" checked=""> Pro
                    </label>
                </div>
            </th>
        </tr>
        </thead>
        <tbody id="cardSetView">
        {{#if getDecks.count}}
            {{#each getDecks}}
                {{> poolCardsetRow}}
            {{/each}}
        {{else}}
            {{> poolCardsetEmpty}}
        {{/if}}
        </tbody>
    </table>
</template>

<template name="poolCardsetRow">
    <tr class="poolCardsetRow">
        <td>
            <a href="/cardset/{{_id}}">{{name}}
                <span class="badge cardsetBadge">{{countCards this._id}}</span>
            </a>
        </td>
        <td>{{degree}} {{firstName}} {{lastName}}</td>
        <td>{{moduleShort}}</td>
        <td>{{academicCourse}}</td>
        <td>{{department}}</td>
        <td>{{studyType}}</td>
        <td class="kind-label">
            {{{getKind}}}
        </td>
    </tr>
</template>


<template name="poolCardsetEmpty">
    <tr class="empty-list">
        <td align="center" height="60" colspan="7" class="emptyCellList set-list-empty">
            <span class="emptyTextList">{{_ "set-list-empty.emptypooltextlist"}}</span>
            <br>
            <button id="setListEmpty" class="btn btn-primary btn-newSet" data-toggle="modal"
                    data-target="#newSetModal">{{_ "set-list-empty.newset"}}</button>
        </td>
    </tr>
</template>