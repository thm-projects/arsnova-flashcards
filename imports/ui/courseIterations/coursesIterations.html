<template name="courseIterations">
    {{#if isInRole 'firstLogin'}}
        {{> first_login_content_only}}
    {{else}}
        {{#if isInRole 'blocked'}}
            {{> access_denied_content_only}}
        {{else}}
            {{> cardsetCourseIterationForm}}
            {{> courseIterationDeleteForm}}
            {{> courseIterationsList}}
        {{/if}}
    {{/if}}
</template>

<template name="courseIterationsList">
    <div id="course-list-region" class="col-md-12">
        {{#if courseIterationsList.count}}
            <button id="createCourse" type="button" class="btn btn-raised btn-success saveSet" data-toggle="modal"
                    data-target="#setCardsetCourseIterationFormModal" {{disableIfOffline}}>
                {{_ "courseIteration.list.createCourse"}}
            </button>
            {{> filterNavigation}}
            {{#each courseIterationsList}}
                {{> cardsetCourseIterationResultRow extendContext 'index' @index}}
            {{/each}}
            {{> infiniteScroll}}
        {{else}}
            {{> courseIterationsEmpty}}
        {{/if}}
    </div>
</template>

<template name="courseIterationsEmpty">
    <div class="empty-list">
        <div align="center" height="60" colspan="3" class="emptyCellList set-list-empty">
                <span class="emptyTextList">
                    {{_ "courseIteration.list.empty"}}
                </span>
            <br>
            <button id="createCourse" type="button" class="btn btn-raised btn-success saveSet" data-toggle="modal"
                    data-target="#setCardsetCourseIterationFormModal" {{disableIfOffline}}>
                {{_ "courseIteration.list.createCourse"}}
            </button>
            <br>
            <br>
        </div>
    </div>
</template>

<template name="courseIterationDeleteForm">
    <div class="modal fade" id="confirmDeleteModal" tabindex="-1" role="dialog"
         aria-labelledby="confirmDeleteModalTitle">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                    <h4 id="confirmDeleteModalTitle" class="modal-title">{{_
                            "courseIteration.confirm-form-delete.title"}}</h4>
                </div>
                <div class="modal-body">
                    <p>{{_ "courseIteration.confirm-form-delete.text"}}</p>
                    <br/>
                    <hr/>

                    <button id="deleteCourseIteration"
                            class="btn btn-danger btn-raised btn-setDelete" {{disableIfOffline}}>{{_
                            "courseIteration.confirm-form-delete.title"}}</button>
                    <button id="cancelDelete" class="btn btn-raised pull-right" data-dismiss="modal">{{_
                            "modal-dialog.cancel"}}</button>
                </div>
            </div>
            <!-- /.modal-content -->
        </div>
        <!-- /.modal-dialog -->
    </div>
    <!-- /.modal -->
</template>
