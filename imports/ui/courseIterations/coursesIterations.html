<template name="courseIterations">
    {{#if isInRole 'firstLogin'}}
        {{> first_login_content_only}}
    {{else}}
        {{#if isInRole 'blocked'}}
            {{> access_denied_content_only}}
        {{else}}
            {{> cardsetCourseIterationForm}}
            {{> courseIterationDeleteForm}}
            {{> courseIterationsList}}
        {{/if}}
    {{/if}}
</template>

<template name="courseIterationsList">
    <div id="course-list-region" class="col-md-12">
        <button id="createCourse" type="button" class="btn btn-raised btn-success saveSet" data-toggle="modal"
                data-target="#setCardsetCourseIterationFormModal" {{disableIfOffline}}>
            {{_ "courseIteration.list.createCourse"}}
        </button>
        {{#if courseIterationsList 0}}
            {{> shuffle}}
            {{> filterNavigation}}
            {{#if courseIterationsList 1}}
                {{#each courseIterationsList 2}}
                    {{> cardsetCourseIterationResultRow extendContext 'index' @index}}
                {{/each}}
                {{> infiniteScroll}}
            {{else}}
                {{> noFilterResults}}
            {{/if}}
        {{else}}
            {{> noResults}}
        {{/if}}
    </div>
</template>

<template name="courseIterationDeleteForm">
    <div class="modal fade" id="confirmDeleteCourseIterationModal" tabindex="-1" role="dialog"
         aria-labelledby="confirmDeleteCourseIterationModalTitle">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 id="confirmDeleteCourseIterationModalTitle" class="modal-title">{{_
                            "courseIteration.confirm-form-delete.title"}}
                        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                    </h4>
                </div>
                <div class="modal-body">
                    <p>{{_ "courseIteration.confirm-form-delete.text"}}</p>
                    <br/>
                    <div class="form-check">
                        <input type="checkbox" class="form-check-input" id="alsoDeleteAssociatedDecks" value="false"/>
                        <label for="alsoDeleteAssociatedDecks" class="form-check-label">{{_
                                "courseIteration.confirm-form-delete.alsoDeleteAssociatedDecks"}}</label>
                    </div>
                    <hr/>

                    <button id="deleteCourseIteration"
                            class="btn btn-danger btn-raised btn-setDelete" {{disableIfOffline}}>{{_
                            "courseIteration.confirm-form-delete.title"}}</button>
                    <button id="cancelDelete" class="btn btn-raised pull-right" data-dismiss="modal">{{_
                            "modal-dialog.cancel"}}</button>
                </div>
            </div>
            <!-- /.modal-content -->
        </div>
        <!-- /.modal-dialog -->
    </div>
    <!-- /.modal -->
</template>
