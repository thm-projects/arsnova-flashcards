<template name="cardsetAccess">
    {{#if isInRole 'firstLogin'}}
        {{> first_login_content_only}}
    {{else}}
        {{#if isInRole 'blocked'}}
            {{> access_denied_content_only}}
        {{else}}
            {{#if hasPermission}}
                {{#if learningActive}}
                    {{#if isProfileCompleted this._id}}
                        {{> cardset}}
                    {{else}}
                        {{> access_denied_profile_incomplete_content_only}}
                    {{/if}}
                {{else}}
                    {{> cardset}}
                {{/if}}
            {{else}}
                <div class="col-md-12">
                    <h4>{{_ "permission"}}</h4>
                </div>
            {{/if}}
        {{/if}}
    {{/if}}
</template>

<template name="cardset">
    {{> cardsetInfo}}
    {{> showLicense}}
    {{> cardsetForm}}
    {{> cardsetImportForm}}
    {{> cardsetPublishForm}}
    {{> cardsetStartLearnForm}}
    {{> cardsetEndLearnForm}}
    {{> selectLicenseForm}}
    {{> reportCardsetForm}}
    {{> deleteCardsForm}}
    {{> resetLeitnerForm}}
    {{> resetMemoForm}}
    {{> leaveLearnPhaseForm}}
    {{> leaveEditorsForm}}
    {{onEditmodalClose this._id}}
    {{#if hasCardsetPermission}}
        {{#if isLecturerAndHasRequest}}
            <div class="col-md-12">
                <div class="panel panel-default cardsetInfo">
                    <div class="panel-body">
                        <div class="input-group has-error">
  											<span class="input-group-btn">
  											  <button id="acceptRequest" class="btn btn-raised btn-success"
                                                      type="button">{{_
                                                      "cardset.request.accept"}}</button>
  											  <button id="declineRequest" class="btn btn-raised btn-danger"
                                                      type="button">{{_
                                                      "cardset.request.decline"}}</button>
  											</span>
                            <input id="declineRequestReason" type="text" class="form-control"
                                   placeholder="Begründung">
                        </div>
                    </div>
                </div>
            </div>
        {{/if}}
        {{> cardsetSidebar}}
        {{#if isActiveRoute 'cardsetdetailsid'}}
            {{#if learningActiveAndNotEditor}}
                {{> leitnerLearning}}
            {{else}}
                {{#if countCards this._id}}
                    {{> flashcards cardset=this}}
                {{else}}
                    {{> flashcardsEmpty}}
                {{/if}}
            {{/if}}
        {{/if}}
        {{#if isActiveRoute 'cardsetlistid'}}
            {{> cardsetList}}
        {{/if}}
    {{else}}
        {{> cardsetPreview}}
        {{#if countCards this._id}}
            {{> flashcards cardset=this}}
        {{else}}
            {{> flashcardsEmpty}}
        {{/if}}
    {{/if}}
</template>


<template name="cardsetInfo">
    <div id="cardsetInfoDetail" class="col-md-12">
        <div class="panel panel-default cardsetInfo">
            <div class="panel-body">
                <div class="col-sm-8">
                    <div class="">
                        <h4 id="cardsetTitle">{{{getKind}}} {{name}}</h4>
                        <hr> {{#markdown}}{{description}}{{/markdown}}
                    </div>
                </div>
                <div class="col-sm-4 infoBox">
                    <div class="well">
                        {{#if ratingEnabled}}
                            <strong class="left">{{_ "cardset.info.rating"}}:</strong>
                            {{#if isCardsetOwner _id}}
                                {{> starsRating id='ratingLocked' rating=getAverage mutable=false}}
                            {{else}}
                                {{> starsRating id='rating' rating=getAverage mutable=true}}
                            {{/if}}
                            {{#unless isCardsetOwner _id}}
                                <br><strong class="left">{{_ "cardset.info.userRating"}}:</strong>
                                <span id="userRating">{{getUserRating}}</span>{{#unless hasRated}}
                                ({{_ "cardset.info.notRated"}}){{/unless}}
                            {{/unless}}
                            <hr>
                            <strong>{{_ "cardset.info.quantity"}}:</strong> {{this.quantity}}
                            <br><strong>{{_ "pool.activeLearners"}}:</strong> {{this.learners}}
                            <hr>
                        {{/if}}
                        <strong id="license_strong">{{_ "cardset.info.license"}}:</strong>
                        <a href="#"><span id="info_license" data-id="{{_id}}" data-toggle="modal"
                                          data-target="#showLicenseModal">{{getLicense}}</span></a>
                        <br><strong>{{_ "cardset.info.module"}}:</strong> {{this.module}}
                        <br><strong>{{_ "cardset.info.moduleShort"}}:</strong> {{this.moduleToken}}
                        <br><strong>{{_ "cardset.info.moduleNum"}}:</strong> {{this.moduleNum}}
                        <br><strong>{{_ "modal-dialog.skillLevel"}}:</strong> {{getSkillLevel this.skillLevel}}
                        {{#unless singleUniversity}}
                            <br><strong>{{_ "cardset.info.college"}}:</strong> {{this.college}}
                        {{/unless}}
                        <br><strong>{{_ "cardset.info.course"}}:</strong> {{this.course}}
                        <hr>
                        <strong>{{_ "cardset.info.author"}}:</strong>
                        {{#if userExists userDeleted}}
                            <a href="{{pathFor 'profileSettings' _id=owner}}">{{getAuthorName this.owner}}</a>
                        {{else}}
                            {{this.firstName}} {{this.lastName}} ({{_ "cardset.info.deleted"}})
                        {{/if}}
                        <br><strong>{{_ "cardset.info.release"}}:</strong> {{getDate}}
                        <br><strong>{{_ "cardset.info.dateUpdated"}}:</strong> {{getDateUpdated}}
                        {{#if getReviewer}}
                            <br><strong>{{_ "cardset.info.reviewer"}}:</strong> <a
                                href="{{pathFor 'profileSettings' _id=reviewer}}">{{getAuthorName this.reviewer}}</a>
                        {{/if}}
                        {{#if hasAmount}}
                            <br><strong>{{_ "cardset.info.amount"}}:</strong> {{getAmount}}
                        {{/if}}
                        {{#if isPurchased}}
                            <br><strong>{{_ "cardset.info.bought"}}:</strong> {{getDateOfPurchase}}
                        {{/if}}

                    </div>
                </div>
            </div>
            {{#if isCardsetOwner _id}}
                <div class="panel-footer">
                    <div class="btn-group btn-group-raised">
                        {{#unless isDisabled}}
                            {{#unless learningActive}}
                                <button id="publishCardset" class="btn btn-default" type="button"
                                        data-toggle="modal"
                                        data-target="#publishModal" {{disableIfOffline}}>
                                    <i class="fa fa-eye"></i> {{getStatus}}
                                </button>
                                <button id="publishTooltip" type="button" class="btn btn-default pull-right"
                                        data-toggle="tooltip"
                                        title="{{_ "sidebar-nav.tooltip"}}">
                                    <i class="fa fa-question"></i></button>
                            {{/unless}}
                        {{/unless}}
                    </div>
                    <div class="btn-group btn-group-raised">
                        <button id="editCardset" class="btn btn-raised btn-default" type="button"
                                data-toggle="modal"
                                data-target="#editSetModal" {{disableIfOffline}}>
                            <i class="fa fa-pencil"></i> {{_ "modal-dialog.editcard"}}
                        </button>
                    </div>
                    {{#unless learningActive}}
                        <div class="btn-group btn-group-raised">
                            <button id="delete_cards" class="btn btn-raised btn-danger" type="button"
                                    data-toggle="modal"
                                    data-target="#deleteCardsModal" {{disableIfOffline}}>
                                <i class="fa fa-trash"></i> {{_ "deleteCards"}}
                            </button>
                        </div>
                        <div class="btn-group btn-group-raised">
                            <a type="button" id="newCardBtn" class="btn btn-raised btn-success"
                               href="{{pathFor 'newCard'}}"
                                {{disableIfOffline}}>
                                <i class="fa fa-plus"></i> {{_ "sidebar-nav.createcard"}}
                            </a>
                            <button type="button" class="btn btn-raised btn-success dropdown-toggle"
                                    data-toggle="dropdown"
                                {{disableIfOffline}}>
                                <span class="caret"></span>
                            </button>
                            <ul class="dropdown-menu">
                                <li><a href="#" id="importCardsBtn" data-toggle="modal" data-target="#importModal"><i
                                        class="fa fa-cloud-upload"></i> {{_ "sidebar-nav.importcard"}}</a></li>
                                <li><a href="#" id="exportCardsBtn"><i
                                        class="fa fa-cloud-download"></i> {{_ "sidebar-nav.exportcard"}}</a></li>
                            </ul>
                        </div>
                    {{/unless}}
                    {{#if isPublished}}
                        <button id="selectLicense" class="btn btn-default btn-raised" type="button"
                                data-toggle="modal"
                                data-target="#selectLicenseModal" {{disableIfOffline}}>
                            <i class="fa fa-cc"></i>{{_ "sidebar-nav.license"}}
                        </button>
                    {{/if}}
                </div>
            {{/if}}
        </div>
    </div>
</template>

<template name="cardsetSidebar">
    <div class="col-md-3">
        {{#unless learningActiveAndNotEditor}}
            <div id="set-details-sideBar-region col-xs-12">
                <div class="well well-sm sidebar-nav">
                    <span class="nav-header-cardset">{{_ "sidebar-nav.view"}}</span>
                    <div class="btn-group btn-group-raised btn-group-justified">
                        <a id="btnToCardLayout"
                           class="btn btn-default btn-cardLayout {{#if isActiveRoute 'cardsetdetailsid'}}active{{/if}}"
                           href="/cardset/{{_id}}">{{_ "sidebar-nav.viewmap"}}</a>
                        <a id="btnToListLayout"
                           class="btn btn-default btn-listLayout {{#if isActiveRoute 'cardsetlistid'}}active{{/if}}"
                           href="/cardsetlist/{{_id}}">{{_ "sidebar-nav.viewlist"}}</a>
                    </div>
                </div>
            </div>
        {{/unless}}
        {{#unless learningActive}}
            {{#if gotEnoughCards}}
                <div id="set-details-learn-region">
                    <div class="well well-sm sidebar-nav">
                        <span class="nav-header-cardset">{{_ "learn"}}</span>
                        {{#if isProfileCompleted this._id}}
                            <button id="learnBox"
                                    class="btn btn-raised btn-success learn btn-block" {{disableIfOffline}}>{{_
                                    "learnfile"}}</button>
                        {{else}}
                            <button class="btn btn-raised btn-success learn btn-block" {{disableIfOffline}}
                                    data-toggle="modal" data-target="#completeProfileModal">{{_
                                    "learnfile"}}</button>
                        {{/if}}
                        <button id="learnMemo"
                                class="btn btn-raised btn-success memo btn-block" {{disableIfOffline}}>{{_
                                "memo"}}</button>
                    </div>
                </div>
            {{/if}}
        {{/unless}}
        <div id="set-details-learn-region">
            <div class="well well-sm sidebar-nav">
                <span class="nav-header-cardset">{{_ "manage"}}</span>
                {{#if isCardsetOwner _id}}
                    <button id="manageEditors" type="button"
                            class="btn btn-default btn-raised btn-block btn-default"
                        {{disableIfOffline}}>
                        {{_ "sidebar-nav.manageEditors"}}
                    </button>
                {{/if}}
                {{#unless learningActive}}
                    {{#if learningLeitner}}
                        <button id="resetLeitner"
                                style="white-space: normal; padding-left: 10px; padding-right: 10px;"
                                class="btn btn-raised btn-default btn-block btn-danger flag" href="#"
                                data-toggle="modal"
                                data-target="#resetLeitnerModal" {{disableIfOffline}}>{{_
                                "resetLearnfile"}}</button>
                    {{/if}}
                    {{#if learningMemo}}
                        <button id="resetMemo"
                                style="white-space: normal; padding-left: 10px; padding-right: 10px;"
                                class="btn btn-raised btn-default btn-block btn-danger flag" href="#"
                                data-toggle="modal"
                                data-target="#resetMemoModal" {{disableIfOffline}}>{{_
                                "resetMemo"}}</button>
                    {{/if}}
                {{/unless}}
                {{#if enableIfPublished}}
                    {{#if isCardsetOwner _id}}
                        {{#if isInRole 'lecturer'}}
                            <button id="startStopLearning"
                                    class="btn btn-default btn-raised startStopLearn btn-block {{#if
                                            learningActive}} btn-danger learnBoxActive {{else}} btn-success {{/if}}"
                                    type="button"
                                    data-toggle="modal"
                                    data-target="{{#unless
                                            learningActive}}#confirmLearnModal{{else}}#confirmEndLearnModal{{/unless}}">
                                {{#if learningActive}}
                                    {{_ "sidebar-nav.stopLearning"}}
                                {{else}}
                                    {{_ "sidebar-nav.startLearning"}}
                                {{/if}}
                            </button>
                        {{/if}}
                    {{/if}}
                    {{#if learningActiveAndEditor}}
                        <button id="showStats" class="btn btn-default btn-raised btn-block btn-default">
                            {{_ "box_stats"}}
                        </button>
                    {{/if}}
                    {{#unless isEditor}}
                        <button id="report_button"
                                style="white-space: normal; padding-left: 10px; padding-right: 10px;"
                                class="btn btn-raised btn-default btn-block btn-warning flag" href="#"
                                data-toggle="modal" data-target="#reportModal">{{_
                                "report"}}</button>
                        {{#if learningActive}}
                            <button id="leaveLearnPhaseButton"
                                    style="white-space: normal; padding-left: 10px; padding-right: 10px;"
                                    class="btn btn-raised btn-default btn-block btn-danger flag" href="#"
                                    data-toggle="modal" data-target="#leaveModal">{{_
                                    "confirm-leave-learnphase.btn-txt"}}</button>
                        {{/if}}
                    {{/unless}}
                    {{#if isEditor}}
                        {{#unless isCardsetOwner _id}}
                            <button id="leaveEditors"
                                    style="white-space: normal; padding-left: 10px; padding-right: 10px;"
                                    class="btn btn-raised btn-default btn-block btn-danger flag" href="#"
                                    data-toggle="modal" data-target="#leaveEditorsModal">{{_
                                    "sidebar-nav.leaveEditors"}}</button>
                        {{/unless}}
                    {{/if}}
                {{/if}}
            </div>
        </div>
    </div>
</template>

<template name="cardsetPreview">
    <div class="col-md-3">
        <div id="cardsetPreview">
            <div class="panel panel-default cardsetInfo">
                <div class="panel-body">
                    <form role="form">
                        <div class="">
                            <div class="">
                                <div id="payment-form"></div>
                                <button id="buyCardsetBtn" type="submit"
                                        class="btn btn-success btn-block btn-raised">{{_ "cardset.money.buy"}} {{price}}
                                    €
                                </button>
                            </div>
                        </div>
                    </form>
                    <button id="buyProBtn"
                            class="btn btn-warning btn-block btn-raised">{{_ "cardset.money.pro"}}
                    </button>
                </div>
            </div>
        </div>
        <div class="btn-group"
             role="group">
        </div>
    </div>
</template>

<template name="cardsetList">
    <div class="col-md-9" id="cardset-list">
        <table class="table table-bordered table-hover">
            <div class="listhead"></div>
            <thead>
            <tr>
                <th>
                    <span>{{_ "frontside"}}</span>
                </th>
                <th>
                    <span>{{_ "backside"}}</span>
                </th>
                {{#if isCardsetOwner _id}}
                    <th>{{_ "options"}}</th>
                {{/if}}
            </tr>
            </thead>
            <tbody>
            {{#if countCards this._id}}
                {{#each cardList}}
                    <tr class="listitem">
                        <td class="front{{@index}} {{getCardBackground
                                this.difficulty}}">{{#mathjax}}{{this.front}}{{/mathjax}}</td>
                        <td class="back{{@index}} {{getCardBackground
                                this.difficulty}}">{{#mathjax}}{{this.back}}{{/mathjax}}</td>
                        {{#if isCardsetOwner cardset_id}}
                            <td>
                                <a class="editCardList btn btn-xs btn-default btn-listEditCard" title='{{_ "editcard"}}'
                                   href="/cardset/{{cardset_id}}/editcard/{{_id}}" style="margin-left: 5px;">
                                    <i class="glyphicon glyphicon-pencil"></i>
                                </a>
                                {{#unless learningActive}}
                                    <button class="deleteCardList btn btn-xs btn-default btn-listDeleteCard"
                                            title='{{_ "deletecard"}}' data-toggle="modal"
                                            data-target="#confirmModal">
                                        <i class="glyphicon glyphicon-ban-circle"></i>
                                    </button>
                                {{/unless}}
                            </td>
                        {{/if}}
                    </tr>
                {{/each}} {{else}}
                <tr class="empty-listitem">
                    <td colspan="3" align="center">
                        <span style="font-family:'Georgia'">{{_ "nocards"}}</span>
                    </td>
                </tr>
            {{/if}}

            </tbody>
            {{> cardsetConfirmForm}}
        </table>
    </div>
</template>

<template name="descriptionEditorEdit">
     <textarea class="form-control" data-provide="markdown" rows="6" id="editSetDescription"
               value="{{description}}"></textarea>
</template>

<template name="deleteCardsForm">
    <div class="modal fade" id="deleteCardsModal" tabindex="-1" role="dialog"
         aria-labelledby="deleteCardsTitle">
        <div class="modal-dialog">
            <div class="modal-content modal-content-for-buttons">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                    <h4 id="deleteCardsTitle" class="modal-title">{{_ "deleteCards"}}</h4>
                </div>
                <div class="modal-body">
                    {{_ "modal-dialog.deleteCards" name= this.description }}
                    <button id="deleteCardsConfirm" class="btn btn-raised btn-danger btn-block col-xs-12 col-sm-3">{{_
                            "deleteCards"}}</button>
                    <button id="deleteCardsCancel" class="btn btn-raised btn-default btn-block col-xs-12 col-sm-3"
                            data-dismiss="modal">{{_
                            "modal-dialog.cancel"}}</button>
                </div>
            </div>
            <!-- /.modal-content -->
        </div>
        <!-- /.modal-dialog -->
    </div>
    <!-- /.modal -->
</template>

<template name="resetLeitnerForm">
    <div class="modal fade" id="resetLeitnerModal" tabindex="-1" role="dialog"
         aria-labelledby="resetLeitnerTitle">
        <div class="modal-dialog">
            <div class="modal-content modal-content-for-buttons">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                    <h4 id="resetLeitnerTitle" class="modal-title">{{_ "resetLearnfile"}}</h4>
                </div>
                <div class="modal-body">
                    {{_ "modal-dialog.resetLeitner" name= this.name }}
                    <button id="resetLeitnerConfirm" class="btn btn-raised btn-danger btn-block col-xs-12 col-sm-3">{{_
                            "reset"}}</button>
                    <button id="resetLeitnerCancel" class="btn btn-raised btn-default btn-block col-xs-12 col-sm-3"
                            data-dismiss="modal">{{_
                            "modal-dialog.cancel"}}</button>
                </div>
            </div>
            <!-- /.modal-content -->
        </div>
        <!-- /.modal-dialog -->
    </div>
    <!-- /.modal -->
</template>

<template name="resetMemoForm">
    <div class="modal fade" id="resetMemoModal" tabindex="-1" role="dialog"
         aria-labelledby="resetMemoTitle">
        <div class="modal-dialog">
            <div class="modal-content modal-content-for-buttons">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                    <h4 id="resetMemoTitle" class="modal-title">{{_ "resetMemo"}}</h4>
                </div>
                <div class="modal-body">
                    {{_ "modal-dialog.resetMemo" name= this.name }}
                    <button id="resetMemoConfirm" class="btn btn-raised btn-danger btn-block col-xs-12 col-sm-3">{{_
                            "reset"}}</button>
                    <button id="resetMemoCancel" class="btn btn-raised btn-default btn-block col-xs-12 col-sm-3"
                            data-dismiss="modal">{{_
                            "modal-dialog.cancel"}}</button>
                </div>
            </div>
            <!-- /.modal-content -->
        </div>
        <!-- /.modal-dialog -->
    </div>
    <!-- /.modal -->
</template>

<template name="leaveLearnPhaseForm">
    <div class="modal fade" id="leaveModal" tabindex="-1" role="dialog" aria-labelledby="leaveLearnPhaseTitle">
        <div class="modal-dialog">
            <div class="modal-content modal-content-for-buttons xs-12">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                <div class="modal-header">
                    <h4 id="leaveLearnPhaseTitle" class="modal-title">{{_ "confirm-leave-learnphase.title"}}</h4>
                </div>
                <div class="modal-body">
                    <p>{{_ "confirm-leave-learnphase.text"}}</p>
                    <br>
                    <hr>
                    <button id="leaveLearnPhaseConfirm" class="btn btn-block btn-raised btn-default btn-danger">{{_
                            "confirm-leave-learnphase.btn-txt"}}</button>
                    <button id="leaveLearnPhaseCancel" class="btn btn-default btn-block btn-raised"
                            data-dismiss="modal">{{_ "modal-dialog.cancel"}}</button>
                </div>
            </div>
        </div>
    </div>
</template>

<template name="leaveEditorsForm">
    <div class="modal fade" id="leaveEditorsModal" tabindex="-1" role="dialog" aria-labelledby="leaveEditorsTitle">
        <div class="modal-dialog">
            <div class="modal-content modal-content-for-buttons xs-12">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                <div class="modal-header">
                    <h4 id="leaveEditorsTitle" class="modal-title">{{_ "confirm-leave-editors.title"}}</h4>
                </div>
                <div class="modal-body">
                    <p>{{_ "confirm-leave-editors.text" name= this.name}}</p>
                    <br>
                    <hr>
                    <button id="leaveEditorsConfirm" class="btn btn-block btn-raised btn-default btn-danger">{{_
                            "confirm-leave-editors.btn-txt"}}</button>
                    <button id="leaveEditorsCancel" class="btn btn-default btn-block btn-raised"
                            data-dismiss="modal">{{_ "modal-dialog.cancel"}}</button>
                </div>
            </div>
        </div>
    </div>
</template>

<template name="cardsetForm">
    <div class="modal fade" id="editSetModal" tabindex="-1" role="dialog" aria-labelledby="editSetModalTitle">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                    <h4 id="editSetModalTitle" class="modal-title">{{_ "modal-dialog.editcard"}}</h4>
                </div>
                <div class="modal-body">
                    <div class="form-horizontal">
                        <div class="form-group setdetails name">
                            <label id="editSetNameLabel" class="col-md-3 control-label"
                                   for="editSetName">{{_ "modal-dialog.name"}}</label>
                            <div class="col-md-9">
                                <input class="form-control" type="text" id="editSetName" value="{{name}}">
                                <span id="helpEditSetName" class="help-block name"></span>
                            </div>
                        </div>
                        <div class="form-group setdetails description">
                            <label id="editSetDescriptionLabel" class="col-md-3 control-label"
                                   for="editSetDescription">{{_ "modal-dialog.description"}}</label>
                            <div class="col-md-9">
                                {{>descriptionEditorEdit}}
                                <span id="helpEditSetDescription" class="help-block description"></span>
                            </div>
                        </div>

                        <div class="panel panel-primary">
                            <div class="panel-heading">{{_ "modal-dialog.module"}}</div>
                            <br>
                            <!-- start module textfield -->
                            <div class="form-group setdetails name" id="module">
                                <label id="editSetModuleLabel" class="col-md-3 control-label"
                                       for="editSetModule">{{_ "modal-dialog.module"}}</label>
                                <div class="col-md-9">
                                    <input class="form-control" type="text" id="editSetModule"
                                           value="{{module}}">
                                    <span id="helpEditSetModule" class="help-block name"></span>
                                </div>
                            </div><!-- / module textfield -->
                            <!-- start module textfield -->
                            <div class="form-group setdetails name" id="module">
                                <label id="editSetModuleShortLabel" class="col-md-3 control-label"
                                       for="editSetModuleShort">{{_ "modal-dialog.moduleShort"}}</label>
                                <div class="col-md-9">
                                    <input class="form-control" type="text" id="editSetModuleShort"
                                           value="{{moduleToken}}">
                                    <span id="helpEditSetModuleShort" class="help-block name"></span>
                                </div>
                            </div><!-- / module textfield -->
                            <!-- start module textfield -->
                            <div class="form-group setdetails name" id="module">
                                <label id="editSetModuleNumLabel" class="col-md-3 control-label"
                                       for="editSetModuleNum">{{_ "modal-dialog.moduleNum"}}</label>
                                <div class="col-md-9">
                                    <input class="form-control" type="text" id="editSetModuleNum"
                                           value="{{moduleNum}}">
                                    <span id="helpEditSetModuleNum" class="help-block name"></span>
                                </div>
                            </div><!-- / module textfield -->
                        </div>
                        <!-- start skills Dropdown -->
                        <div class="form-group setdetails categories">
                            <label id="editSetSkillLevelLabel" class="col-md-3 control-label"
                                   for="editSetSkillLevel">{{_
                                    "modal-dialog.skillLevel"}}</label>
                            <div class="dropup">
                                <div class="btn-group col-xs-12 col-sm-12 col-md-9">
                                    <button type="button" id="editSetSkillLevel"
                                            class="btn btn-raised editSetSkillLevelDropdown longButton"
                                            data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"
                                            value="{{this.skillLevel}}">{{getSkillLevel this.skillLevel}}
                                    </button>
                                    <button class="btn btn-raised dropdown-toggle editSetSkillLevelDropdown"
                                            type="button"
                                            data-toggle="dropdown"
                                            aria-haspopup="true" aria-expanded="true">
                                        <span class="caret"></span>
                                        <span class="sr-only"></span>
                                    </button>
                                    <ul class="dropdown-menu longButton">
                                        <li class="skillLevel" value="0" data="{{getSkillLevel 0}}"><a
                                                href="#">{{getSkillLevel 0}}</a></li>
                                        <li class="skillLevel" value="1" data="{{getSkillLevel 1}}"><a
                                                href="#">{{getSkillLevel 1}}</a></li>
                                        <li class="skillLevel" value="2" data="{{getSkillLevel 2}}"><a
                                                href="#">{{getSkillLevel 2}}</a></li>
                                        <li class="skillLevel" value="3" data="{{getSkillLevel 3}}"><a
                                                href="#">{{getSkillLevel 3}}</a></li>
                                    </ul>
                                </div>
                            </div>
                        </div><!-- / skills Dropdown -->
                        {{#unless singleUniversity}}
                            <!-- start college Dropdown -->
                            <div class="form-group setdetails categories">
                                <label id="editSetCollegeLabel" class="col-md-3 control-label" for="editSetCollege">{{_
                                        "modal-dialog.college"}}</label>
                                <div class="dropup">
                                    <div class="btn-group col-xs-12 col-sm-12 col-md-9">
                                        <button id="editSetCollege" type="button"
                                                class="btn btn-default btn-raised editSetCollegeDropdown longButton"
                                                data-toggle="dropdown" aria-haspopup="true"
                                                aria-expanded="false" value="{{this.college}}">{{this.college}}</button>
                                        <button class="btn dropdown-toggle btn-raised editSetCollegeDropdown"
                                                type="button"
                                                data-toggle="dropdown"
                                                aria-haspopup="true" aria-expanded="true">
                                            <span class="caret"></span>
                                            <span class="sr-only"></span>
                                        </button>
                                        <ul class="dropdown-menu longButton">
                                            {{#each getColleges}}
                                                <li class="college" value="{{_id}}" data="{{this.college}}"><a
                                                        href="#">{{this.college}}</a></li>
                                            {{/each}}
                                        </ul>
                                        <span id="helpEditSetCollege" class="help-block college"></span>
                                    </div>
                                </div>
                            </div><!-- / college Dropdown -->
                        {{/unless}}
                        <!-- start course Dropdown -->
                        <div class="form-group setdetails categories">
                            <label id="editSetCourseLabel" class="col-md-3 control-label" for="editSetCourse">{{_
                                    "modal-dialog.course"}}</label>
                            <div class="dropup">
                                <div class="btn-group col-xs-12 col-sm-12 col-md-9">
                                    <button id="editSetCourse" type="button"
                                            class="btn btn-raised btn-default editSetCourseDropdown longButton"
                                            data-toggle="dropdown" aria-haspopup="true"
                                            aria-expanded="false" value="{{this.course}}">{{this.course}}</button>
                                    <button type="button" class="btn btn-raised dropdown-toggle editSetCourseDropdown"
                                            data-toggle="dropdown"
                                            aria-haspopup="true" aria-expanded="false">
                                        <span class="caret"></span>
                                        <span class="sr-only"></span>
                                    </button>
                                    <ul class="dropdown-menu btn-raised longButton">
                                        {{#each getCourses}}
                                            <li class="course" value="{{_id}}" data="{{this.course}}"><a
                                                    href="#">{{this.course}}</a></li>
                                        {{/each}}
                                    </ul>
                                    <span id="helpEditSetCourse" class="help-block course"></span>
                                </div>
                            </div>
                        </div><!-- / course Dropdown -->
                    </div>
                </div>
                <div class="modal-footer">
                    {{#unless learningActive}}
                        <button id="cardSetDelete"
                                class="btn btn-raised btn-danger btn-block btn-setDelete col-xs-12 col-sm-3">{{_
                                "modal-dialog.delete"}}</button>
                        <button id="cardSetConfirm" class="btn btn-raised btn-warning btn-block col-xs-12 col-sm-3"
                                style="display:none">{{_
                                "modal-dialog.confirm"}}</button>
                    {{/unless}}
                    <button id="cardSetCancel" class="btn btn-raised btn-default btn-block col-xs-12 col-sm-3"
                            data-dismiss="modal">{{_
                            "modal-dialog.cancel"}}</button>
                    <button id="cardSetSave"
                            class="btn btn-raised btn-success btn-block col-xs-12 col-sm-3 pull-right">{{_
                            "modal-dialog.save"}}</button>
                </div>
            </div>
        </div>
    </div>
</template>

<template name="cardsetStartLearnForm">
    <div class="modal fade" id="confirmLearnModal" tabindex="-1" role="dialog" aria-labelledby="confirmLearnModalTitle">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                    <h4 id="confirmLearnModalTitle" class="modal-title">{{_ "confirmLearn-form.title"}}</h4>
                </div>
                <div class="modal-body">
                    <div class="form-horizontal">
                        <div class="form-group">
                            <label class="col-md-3 control-label">{{_ "confirmLearn-form.maxCards"}}</label>
                            <div class="col-md-9">
                                <input type="number" min="1" max="100" data-bind="value:replyNumber"
                                       onkeypress="return  (event.charCode == 8 || event.charCode == 0) ? null : event.charCode >= 48 && event.charCode <= 57"
                                       class="form-control" id="inputMaxCards"
                                       placeholder="{{_ "confirmLearn-form.maxCardsDesc"}}" value="">
                                <span id="errorMaxCards" class="help-block name"></span>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-md-3 control-label">{{_ "confirmLearn-form.daysBeforeReset"}}</label>
                            <div class="col-md-9">
                                <input type="number" min="1" max="100" data-bind="value:replyNumber"
                                       onkeypress="return  (event.charCode == 8 || event.charCode == 0) ? null : event.charCode >= 48 && event.charCode <= 57"
                                       class="form-control" id="inputDaysBeforeReset"
                                       placeholder="{{_ "confirmLearn-form.daysBeforeResetDesc"}}" value="">
                                <span id="errorDaysBeforeReset" class="help-block name"></span>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-md-3 control-label">{{_ "confirmLearn-form.learningStart"}}</label>
                            <div class="col-md-9">
                                <input type="date" class="form-control" id="inputLearningStart"
                                       placeholder="{{_ "confirmLearn-form.learningStartDesc"}}" value="">
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-md-3 control-label">{{_ "confirmLearn-form.learningEnd"}}</label>
                            <div class="col-md-9">
                                <input type="date" class="form-control" id="inputLearningEnd"
                                       placeholder="{{_ "confirmLearn-form.learningEndDesc"}}" value="">
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-md-3 control-label">{{_ "confirmLearn-form.learningInterval"}}</label>
                            <div class="col-md-9 form-inline">
                                <input type="number" min="1" max="999" data-bind="value:replyNumber"
                                       onkeypress="return  (event.charCode == 8 || event.charCode == 0) ? null : event.charCode >= 48 && event.charCode <= 57"
                                       class="form-control interval" id="inputLearningInterval1"
                                       placeholder="1" value="1">
                                <input type="number" min="1" max="999" data-bind="value:replyNumber"
                                       onkeypress="return  (event.charCode == 8 || event.charCode == 0) ? null : event.charCode >= 48 && event.charCode <= 57"
                                       class="form-control interval" id="inputLearningInterval2"
                                       placeholder="3" value="3">
                                <input type="number" min="1" max="999" data-bind="value:replyNumber"
                                       onkeypress="return  (event.charCode == 8 || event.charCode == 0) ? null : event.charCode >= 48 && event.charCode <= 57"
                                       class="form-control interval" id="inputLearningInterval3"
                                       placeholder="7" value="7">
                                <input type="number" min="1" max="999" data-bind="value:replyNumber"
                                       onkeypress="return  (event.charCode == 8 || event.charCode == 0) ? null : event.charCode >= 48 && event.charCode <= 57"
                                       class="form-control interval" id="inputLearningInterval4"
                                       placeholder="28" value="28">
                                <input type="number" min="1" max="999" data-bind="value:replyNumber"
                                       onkeypress="return  (event.charCode == 8 || event.charCode == 0) ? null : event.charCode >= 48 && event.charCode <= 57"
                                       class="form-control interval" id="inputLearningInterval5"
                                       placeholder="84" value="84">
                            </div>
                            <div class="col-md-12">
                                <span id="errorInputLearningInterval" class="help-block name"></span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button id="cancelLearn" class="btn btn-default btn-raised btn-block col-xs-12 col-sm-3"
                            data-dismiss="modal">{{_ "confirmLearn-form.cancel"}}</button>
                    <button id="confirmLearn" class="btn btn-success btn-raised btn-block col-xs-12 col-sm-3 pull-right"
                            data-dismiss="modal">{{_ "confirmLearn-form.confirm"}}</button>
                </div>
            </div>
        </div>
    </div><!-- /form group -->
</template>

<template name="cardsetEndLearnForm">
    <div class="modal fade" id="confirmEndLearnModal" tabindex="-1" role="dialog"
         aria-labelledby="confirmEndLearnModalTitle">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                    <h4 id="confirmEndLearnModalTitle" class="modal-title">{{_ "confirmEndLearn-form.title"}}</h4>
                </div>
                <div class="modal-body">
                    <div class="form-horizontal">
                        <h5>{{_ "confirmEndLearn-form.warnTitle"}}</h5>
                        <p>{{_ "confirmEndLearn-form.warning"}}</p>
                    </div>
                </div>
                <div class="modal-footer">
                    <button id="cancelEndLearn" class="btn btn-default btn-raised btn-block col-xs-12 col-sm-3"
                            data-dismiss="modal">{{_ "confirmEndLearn-form.cancel"}}</button>
                    <button id="confirmEndLearn"
                            class="btn btn-danger btn-raised btn-block col-xs-12 col-sm-3 pull-right"
                            data-dismiss="modal">{{_ "confirmEndLearn-form.confirm"}}</button>
                </div>
            </div>
        </div>
    </div><!-- /form group -->
</template>

<template name="cardsetConfirmForm">
    <div class="modal fade" id="confirmModal" tabindex="-1" role="dialog" aria-labelledby="confirmModalTitle">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                    <h4 id="confirmModalTitle" class="modal-title">{{_ "confirm-form.title"}}</h4>
                </div>
                <div class="modal-body">
                    <p>{{_ "confirm-form.text"}}</p>
                    <br/>
                    <hr/>
                    {{#unless learningActive}}
                        <button id="cardDelete" class="btn btn-default btn-setDelete">{{_
                                "confirm-form.title"}}</button>
                    {{/unless}}
                    <button id="cardCancel" class="btn btn-default pull-right" data-dismiss="modal">{{_
                            "modal-dialog.cancel"}}</button>
                </div>
            </div>
            <!-- /.modal-content -->
        </div>
        <!-- /.modal-dialog -->
    </div>
    <!-- /.modal -->
</template>

<template name="cardsetImportForm">
    <div class="modal fade" id="importModal" tabindex="-1" role="dialog" aria-labelledby="importModalTitle">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                    <h4 id="importModalTitle" class="modal-title">{{_ "upload-form.upload-title"}}</h4>
                </div>
                <div class="modal-body">
                    <p>{{_ "upload-form.popover-content"}}</p>
                    <a role='button' target='_blank' class='btn btn-default' href='/examples/example.json'>JSON</a>
                    <a role='button' target='_blank' class='btn btn-default' href='/examples/example.csv.txt'>CSV</a>
                    <hr/>
                </div>
                <div class="modal-footer">
                    {{#unless uploading}}
                        <button id="importCancel" class="btn btn-default btn-raised col-xs-12 col-sm-3 "
                                data-dismiss="modal">{{_
                                "modal-dialog.cancel"}}</button>
                        <span class="btn btn-success btn-file btn-raised col-xs-12 col-sm-4 pull-right">
							{{_ "upload-form.select-file"}}<input type="file" name="uploadFile">
					  </span>
                    {{else}}
                        <p><i class="fa fa-spin fa-refresh"></i>{{_ "upload-form.wait"}}</p>
                    {{/unless}}

                    <div id="uploadError"></div>
                </div>
            </div>
            <!-- /.modal-content -->
        </div>
        <!-- /.modal-dialog -->
    </div>
    <!-- /.modal -->
</template>

<template name="cardsetPublishForm">
    <div class="modal fade" id="publishModal" tabindex="-1" role="dialog" aria-labelledby="confirmModalTitle">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                    <h4 id="confirmModalTitle" class="modal-title">{{_ "sidebar-nav.publish"}}</h4>
                </div>
                <div class="modal-body">
                    <div class="form-group">
                        <label class="control-label"
                               for="newSetDescription">{{_ "modal-dialog.kind"}}:</label>
                        <div class="controls">
                            <div id="publishKind" class="btn-group"
                                 data-toggle="buttons">
                                <label id="kindoption0"
                                       class="btn btn-default {{#if kindIsActive 'personal'}}active{{/if}}">
                                    <input type="radio" name="kind" value="personal" id="kind_private">
                                    <div>Private</div>
                                </label>
                                <label id="kindoption1"
                                       class="btn btn-info {{#if kindIsActive 'free'}}active{{/if}}">
                                    <input type="radio" name="kind" value="free" id="free">
                                    <div>Free</div>
                                </label>
                                {{#if isInRole 'lecturer'}}
                                    <label id="kindoption2"
                                           class="btn btn-success {{#if kindIsActive 'edu'}}active{{/if}}">
                                        <input type="radio" name="kind" value="edu" id="kind_edu">
                                        <div>Edu</div>
                                    </label>
                                {{/if}}
                                {{#if isInRole 'pro'}}
                                    <label id="kindoption3"
                                           class="btn btn-danger {{#if kindIsActive 'pro'}}active{{/if}}">
                                        <input type="radio" name="kind" value="pro" id="kind_pro">
                                        <div>Pro</div>
                                    </label>
                                {{/if}}
                            </div>
                        </div>
                    </div>
                    {{#if kindWithPrice}}
                        <div class="form-group">
                            <label id="publishPriceLabel" class="col-md-3 control-label"
                                   for="publishPrice">{{_ "modal-dialog.price"}} (€)</label>
                            <div class="col-md-9">
                                <div class="input-group">
                                    <select id="publishPrice" class="form-control">
                                        <option {{priceIsSelected 0.99}}>0.99</option>
                                        <option {{priceIsSelected 1.99}}>1.99</option>
                                        <option {{priceIsSelected 2.99}}>2.99</option>
                                        <option {{priceIsSelected 3.99}}>3.99</option>
                                        <option {{priceIsSelected 4.99}}>4.99</option>
                                        <option {{priceIsSelected 5.99}}>5.99</option>
                                        <option {{priceIsSelected 6.99}}>6.99</option>
                                        <option {{priceIsSelected 7.99}}>7.99</option>
                                        <option {{priceIsSelected 8.99}}>8.99</option>
                                        <option {{priceIsSelected 9.99}}>9.99</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                    {{/if}}
                </div>
                <div class="modal-footer">
                    <button id="cardsetCancel" class="btn btn-default btn-raised pull-left"
                            data-dismiss="modal">{{_ "modal-dialog.cancel"}}</button>
                    <button id="cardsetPublish"
                            class="btn btn-raised btn-success pull-right">{{_ "modal-dialog.publish"}}</button>
                </div>
            </div>
            <!-- /.modal-content -->
        </div>
        <!-- /.modal-dialog -->
    </div>
    <!-- /.modal -->
</template>

<template name="cardsetManageEditors">
    {{#if isInRole 'firstLogin'}}
        {{> first_login_content_only}}
    {{else}}
        {{#if isInRole 'blocked'}}
            {{> access_denied_content_only}}
        {{else}}
            {{#unless isCardsetOwner this._id}}
                {{> access_denied_content_only}}
            {{else}}
                <div class="container">
                    <h3 class="modal-title">{{_ "modal-dialog.manageEditors" name = this.name}}</h3>
                    <div style="overflow-x:auto;">
                        <table class="table table-striped table-hover">
                            <tbody>
                            <tr class="active">
                                <th>{{_ "panel-body.givenname"}}</th>
                                <th>{{_ "panel-body.birthname"}}</th>
                                <th>{{_ "panel-body.roles"}}</th>
                                <th></th>
                            </tr>
                            {{#each getEditors}}
                                <tr>
                                    <td>{{this.givenname}}</td>
                                    <td>{{this.birthname}}</td>
                                    <td> {{getRoles this.roles}}</td>
                                    <td>
                                        {{#if isCardsetEditor this.id}}
                                            <a class="btn btn-block btn-raised btn-danger removeEditor"
                                               data-id="{{this.id}}">
                                                <i class="fa fa-minus"></i> {{_ "admin.cardset.removeFromWordcloud"}}
                                            </a>
                                        {{else}}
                                            <a class="btn btn-block btn-raised btn-success addEditor"
                                               data-id="{{this.id}}">
                                                <i class="fa fa-plus"></i> {{_ "admin.cardset.addToWordcloud"}}
                                            </a>
                                        {{/if}}
                                    </td>
                                </tr>
                            {{/each}}
                            </tbody>
                        </table>
                    </div>
                    <button class="btn btn-block btn-raised btn-danger" id="backButton">
                        <span class="pull-left">{{_ "backbutton"}}</span>
                    </button>
                </div>
            {{/unless}}
        {{/if}}
    {{/if}}
</template>

<template name="selectLicenseForm">
    <div class="modal fade" id="selectLicenseModal" tabindex="-1" role="dialog"
         aria-labelledby="selectLicenseModalTitle">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                    <h4 id="selectLicenseModalTitle" class="modal-title">{{_ "sidebar-nav.license"}}</h4>
                </div>
                <div class="modal-body">
                    <div class="form-horizontal">
                        <div class="form-group">
                            <label id="modulesLabel" class="col-md-3 control-label"
                                   for="newSetDescription">{{_ "modal-dialog.modules"}}</label>
                            <div class="controls col-md-9">
                                <div id="cc-modules" class="btn-group" data-toggle="buttons">
                                    <label id="cc-option0"
                                           class="btn btn-default {{#if licenseIsActive 'by'}}active{{/if}}"
                                           style="width:100px">
                                        <input type="checkbox" autocomplete="off" value="by" id="cc-by">
                                        <img src="/img/by.large.png" alt="Namensnennung"/>
                                    </label>
                                    <label id="cc-option1"
                                           class="btn btn-default {{#if licenseIsActive 'nc'}}active{{/if}}"
                                           style="width:100px">
                                        <input type="checkbox" autocomplete="off" value="nc" id="cc-nc">
                                        <img src="/img/nc-eu.large.png" alt="Nicht kommerziell"/>
                                    </label>
                                    <label id="cc-option2"
                                           class="btn btn-default {{#if licenseIsActive 'nd'}}active{{/if}}"
                                           style="width:100px">
                                        <input type="checkbox" autocomplete="off" value="nd" id="cc-nd">
                                        <img src="/img/nd.large.png" alt="Keine Bearbeitung"/>
                                    </label>
                                    <label id="cc-option3"
                                           class="btn btn-default {{#if licenseIsActive 'sa'}}active{{/if}}"
                                           style="width:100px">
                                        <input type="checkbox" autocomplete="off" value="sa" id="cc-sa">
                                        <img src="/img/sa.large.png" alt="Weitergabe unter gleichen Bedingungen"/>
                                    </label>
                                </div>
                                <span id="helpCC-modules" class="help-block cc-modules"></span>
                            </div>

                            <div id=cc-description class="col-md-12">
                                <hr>
                                <img class="col-md-2" src="/img/by.large.png" alt="Namensnennung"/>
                                <p class="col-md-10">{{_ "modal-dialog.by-desc"}}</p>
                                <img class="col-md-2" src="/img/nc-eu.large.png" alt="Nicht kommerziell"/>
                                <p class="col-md-10">{{_ "modal-dialog.nc-desc"}}</p>
                                <img class="col-md-2" src="/img/nd.large.png" alt="Keine Bearbeitung"/>
                                <p class="col-md-10">{{_ "modal-dialog.nd-desc"}}</p>
                                <img class="col-md-2" src="/img/sa.large.png"
                                     alt="Weitergabe unter gleichen Bedingungen"/>
                                <p class="col-md-10">{{_ "modal-dialog.sa-desc"}}</p>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button id="licenseCancel" class="btn btn-default btn-raised btn-block"
                            data-dismiss="modal">{{_ "modal-dialog.cancel"}}</button>
                    <button id="licenseSave" class="btn btn-success btn-raised btn-block pull-success pull-right">{{_
                            "modal-dialog.saveLicense"}}</button>
                </div>
            </div>
            <!-- /.modal-content -->
        </div>
        <!-- /.modal-dialog -->
    </div>
    <!-- /.modal -->
</template>

<template name="reportCardsetForm">
    <div class="modal fade" id="reportModal" tabindex="-1" role="dialog" aria-labelledby="reportModalTitle">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                    <h4 id="reportModalTitle" class="modal-title">{{_ "modal-dialog.report"}}</h4>
                </div>
                <div class="modal-body">
                    <div class="form-horizontal">
                        <div class="form-group">
                            <label class="col-md-3 control-label">{{_ "modal-dialog.cardsetowner"}}</label>
                            <p class="col-md-9">
                                {{getAuthorName this.owner}}
                            </p>
                        </div>
                        <div class="form-group">
                            <label class="col-md-3 control-label">{{_ "modal-dialog.cardsetname"}}</label>
                            <p class="col-md-9">
                                {{name}}
                            </p>
                        </div>
                        <div class="form-group">
                            <label class="col-md-3 control-label">{{_ "modal-dialog.reason"}}</label>
                            <div class="input-group">
                                <select id="reportCardsetReason" class="form-control">
                                    {{#unless userDeleted}}
                                        <option>{{_ "modal-dialog.reportuser"}}</option>
                                    {{/unless}}
                                    <option>{{_ "modal-dialog.reportcardset"}}</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-group text">
                            <label id="reportCardsetTextLabel" class="col-md-3 control-label"
                                   for="reportCardsetText">{{_ "modal-dialog.text"}}</label>
                            <div class="col-md-9">
                                <textarea class="form-control" rows="6" id="reportCardsetText"></textarea>
                                <span id="helpReportCardsetText" class="help-block text"></span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button id="reportCardsetCancel" class="btn btn-default btn-raised"
                            data-dismiss="modal">{{_ "modal-dialog.cancel"}}</button>
                    <button id="reportCardsetSave" class="btn btn-success btn-raised">{{_
                            "modal-dialog.submitcomplaint"}}</button>
                </div>
            </div>
        </div>
    </div>
</template>

<template name="leitnerLearning">
    <div class="col-md-9 flip-container" id="set-details-region">
        {{addToLeitner}}
        <div id="cardCarousel" class="carousel slide" data-interval="false">
            <div class="carousel-inner">
                <div class="empty-item">
                    <div class="box">
                        <div class="block">
                            {{#unless learningEnded}}
                                <div class="bs-callout bs-callout-info" id="callout-alerts-no-default">
                                    <h4><strong>{{_ "learnPhaseActiveHeader"}}</strong></h4>
                                    <p>{{_ "learnPhaseActiveBody"}}</p>
                                </div>
                                {{#if notEmpty}}
                                    <div class="alert alert-warning leitner-text" role="alert">{{Deadline}}</div>
                                    <br><br>
                                    <button id="learnBoxActive"
                                            class="btn btn-raised btn-success learn btn-block btn-learn">{{_
                                            "cardsToLearn"}}</button>
                                {{else}}
                                    {{#if allLearned}}
                                        <br><br>
                                        <div class="alert alert-success leitner-text" role="alert">{{_
                                                "learnedEverything"}}</div>
                                    {{else}}
                                        <br><br>
                                        <button id="learnBoxDisabled"
                                                class="btn btn-warning learn btn-block btn-learn"
                                                disabled>{{_ "noCardsToLearn"}}</button>
                                    {{/if}}
                                {{/if}}
                            {{else}}
                                <div class="alert alert-danger leitner-header" role="alert">{{_
                                        "learnPhaseEnded"}}</div>
                            {{/unless}}
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</template>

<template name="cardsetLearnActivityStatistic">
    {{#if isInRole 'firstLogin'}}
        {{> first_login_content_only}}
    {{else}}
        {{#if isInRole 'blocked'}}
            {{> access_denied_content_only}}
        {{else}}
            {{#unless isEditor}}
                {{> access_denied_content_only}}
            {{else}}
                <div class="container">
                    <div class="row">
                        <div id="cardsetInfoDetail" class="col-md-5">
                            <div class="panel panel-default cardsetInfo">
                                <div class="panel-body">
                                    <h4>{{this.name}}</h4>
                                    <hr>
                                    <div class="col-xs-6">
                                        <strong>{{_ "set-list.learnphase"}}:</strong><br>
                                        <strong>{{_ "pool.activeLearners"}}:</strong><br>
                                        <strong>{{_ "confirmLearn-form.maxCards"}}:</strong><br>
                                        <strong>{{_ "confirmLearn-form.daysBeforeReset"}}:</strong><br>
                                        <strong>{{_ "confirmLearn-form.learningStart"}}:</strong><br>
                                        <strong>{{_ "confirmLearn-form.learningEnd"}}:</strong><br>
                                        <button id="exportCSV" class="btn btn-success btn-raised btn-default">{{_
                                                "box_export"}}</button>
                                    </div>
                                    <div class="col-xs-6">
                                        {{getLearningStatus}}<br>
                                        {{this.learners}}<br>
                                        {{getWorkload}}<br>
                                        {{getDeadline}}<br>
                                        {{getDateStart}}<br>
                                        {{getDateEnd}}
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div style="overflow-x:auto;">
                        <table class="table table-striped table-hover ">
                            <tbody>
                            <tr class="active">
                                <th>{{_ "panel-body.givenname"}}</th>
                                <th>{{_ "panel-body.birthname"}}</th>
                                <th>{{_ "panel-body.email"}}</th>
                                <th>{{_ "subject1"}} [{{this.learningInterval.[0]}}]</th>
                                <th>{{_ "subject2"}} [{{this.learningInterval.[1]}}]</th>
                                <th>{{_ "subject3"}} [{{this.learningInterval.[2]}}]</th>
                                <th>{{_ "subject4"}} [{{this.learningInterval.[3]}}]</th>
                                <th>{{_ "subject5"}} [{{this.learningInterval.[4]}}]</th>
                                <th>{{_ "subject6"}}</th>
                            </tr>
                            {{#each getCardsetStats}}
                                <tr>
                                    <th>{{this.givenname}}</th>
                                    <th>{{this.birthname}}</th>
                                    <th>{{this.email}}</th>
                                    <th>{{this.box1}}</th>
                                    <th>{{this.box2}}</th>
                                    <th>{{this.box3}}</th>
                                    <th>{{this.box4}}</th>
                                    <th>{{this.box5}}</th>
                                    <th>{{this.box6}}</th>
                                </tr>
                            {{/each}}
                            </tbody>
                        </table>
                    </div>
                    <button class="btn btn-block btn-raised btn-danger" id="backButton">
                        <span class="pull-left">{{_ "backbutton"}}</span>
                    </button>
                </div>
            {{/unless}}
        {{/if}}
    {{/if}}
</template>

<template name="showLicense">
    <div class="modal fade" id="showLicenseModal" tabindex="-1" role="dialog"
         aria-labelledby="showLicenseTitle">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                    <h4 id="showLicenseTitle" class="modal-title">{{_ "sidebar-nav.poolLicense"}} {{_ "set-list.topic"}}
                        : {{getTopic}}</h4>
                </div>
                <div class="modal-body">
                    <div class="form-horizontal">
                        <div class="form-group">
                            <div id=cc-description class="col-md-12">
                                {{#if getLicenseCount}}
                                    {{#if getLicenseType 'by'}}
                                        <img class="col-md-2" src="/img/by.large.png" alt="Namensnennung"/>
                                        <p class="col-md-10">{{_ "modal-dialog.by-desc"}}</p>
                                    {{/if}}
                                    {{#if getLicenseType 'nc'}}
                                        <img class="col-md-2" src="/img/nc-eu.large.png" alt="Nicht kommerziell"/>
                                        <p class="col-md-10">{{_ "modal-dialog.nc-desc"}}</p>
                                    {{/if}}
                                    {{#if getLicenseType 'nd'}}
                                        <img class="col-md-2" src="/img/nd.large.png" alt="Keine Bearbeitung"/>
                                        <p class="col-md-10">{{_ "modal-dialog.nd-desc"}}</p>
                                    {{/if}}
                                    {{#if getLicenseType 'sa'}}
                                        <img class="col-md-2" src="/img/sa.large.png"
                                             alt="Weitergabe unter gleichen Bedingungen"/>
                                        <p class="col-md-10">{{_ "modal-dialog.sa-desc"}}</p>
                                    {{/if}}
                                {{else}}
                                    <img class="col-md-2" src="/img/zero.large.png" alt="Keine Lizenz"/>
                                    <p class="col-md-10">{{_ "modal-dialog.zero-desc"}}</p>
                                {{/if}}
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- /.modal-content -->
        </div>
        <!-- /.modal-dialog -->
    </div>
    <!-- /.modal -->
</template>
