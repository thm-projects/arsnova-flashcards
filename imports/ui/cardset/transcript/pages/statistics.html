<template name="cardsetTranscriptStatistics">
    <div id="cardsetInfoDetail" class="col-xs-12">
        <br>
        <div class="panel panel-default cardsetInfo">
            <div class="panel-body">
                <h4>{{this.name}}</h4>
                <hr>
                <div class="row">
                                    <span class="col-sm-6 collapseCardsetInfoContainer">
                                        {{> cardsetInfoBox}}
                                    </span>
                    <span class="col-sm-6 collapseCardsetInfoContainer">
                        {{> bonusTranscriptInfoBox}}
                    </span>
                </div>
            </div>
        </div>
    </div>
    {{#each transcriptBonusUser}}
        <div class="col-xs-12 col-sm-6 col-md-4 col-lg-3 transcript-bonus-user-statistics">
            <table class="table">
                <thead>
                <tr>
                    <th colspan="2">
                        {{getAuthorName this._id}}
                    </th>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td>
                        <i class="fas fa-clipboard"></i>&nbsp;
                        {{#if (getSubmissions this._id undefined)}}
                            <a href="" class="filterTranscriptSubmissions cards-filter-element"
                               data-id="{{this._id}}">{{_ "transcriptForm.info.submissions"}}:</a>
                        {{else}}
                            {{_ "transcriptForm.info.submissions"}}:
                        {{/if}}
                    </td>
                    <td>
                        {{getSubmissions this._id undefined}}
                    </td>
                </tr>
                <tr>
                    <td>
                        {{{getBonusTranscriptRating 0}}}&nbsp;
                        {{#if (getSubmissions this._id 0)}}
                            <a href="" class="filterSubmissionsRating cards-filter-element" data-id="{{this._id}}"
                               data-rating="0">{{_ "transcriptForm.bonus.statistics.pending"}}:</a>
                        {{else}}
                            {{_ "transcriptForm.bonus.statistics.pending"}}:
                        {{/if}}
                    </td>
                    <td>
                        {{getSubmissions this._id 0}}
                    </td>
                </tr>
                <tr>
                    <td>
                        {{{getBonusTranscriptRating 1}}}&nbsp;
                        {{#if (getSubmissions this._id 1)}}
                            <a href=""
                               class="filterSubmissionsRating cards-filter-element"
                               data-id="{{this._id}}" data-rating="1">{{_
                                    "transcriptForm.bonus.statistics.accepted"}}:</a>
                        {{else}}
                            {{_ "transcriptForm.bonus.statistics.accepted"}}:
                        {{/if}}
                    </td>
                    <td>
                        {{getSubmissions this._id 1}}
                    </td>
                </tr>
                <tr>
                    <td>
                        {{{getBonusTranscriptRating 2}}}&nbsp;
                        {{#if (getSubmissions this._id 1)}}
                            <a href="" class="filterSubmissionsRating cards-filter-element" data-id="{{this._id}}"
                               data-rating="2">{{_
                                    "transcriptForm.bonus.statistics.denied"}}:</a>
                        {{else}}
                            {{_ "transcriptForm.bonus.statistics.denied"}}:
                        {{/if}}
                    </td>
                    <td>
                        {{getSubmissions this._id 2}}
                    </td>
                </tr>
                <tr>
                    <td>
                        <i class="far fa-calendar"></i>&nbsp;{{_ "transcriptForm.bonus.statistics.lastSubmission"}}:
                    </td>
                    <td>
                        {{lastSubmission this._id}}
                    </td>
                </tr>
                </tbody>
            </table>
        </div>
    {{/each}}
</template>
