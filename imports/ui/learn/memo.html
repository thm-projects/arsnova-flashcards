<template name="memoAccess">
    {{#if isInRole 'firstLogin'}}
        {{> first_login_content_only}}
    {{else}}
        {{#if isInRole 'blocked'}}
            {{> access_denied_content_only}}
        {{else}}
            {{#if hasPermission}}
                {{#if learningActive}}
                    {{> access_denied_memo_blocked}}
                {{else}}
                    {{> memo}}
                {{/if}}
                <!-- Permission denied -->
            {{else}}
                <h4>{{_ "permission"}}</h4>
            {{/if}}
        {{/if}}
    {{/if}}
</template>


<template name="memo">
    <div class="container">
        <div class="col-xs-12">
            {{> cardHint}}
            <div id="memoFlashcard">
                {{#unless isFinish}}
                    {{> flashcards}}
                {{else}}
                    {{> flashcardsEmpty}}
                {{/unless}}
                {{#unless isEmpty}}
                    {{#unless isFinish}}
                        {{#if showAnswer}}
                            {{> memoRate}}
                        {{else}}
                            <div class="btn-group btn-group-raised btn-group-justified">
                                <div class="btn-group">
                                    <button id="memoShowAnswer" class="btn btn-primary answer show-answer"
                                            title="success">{{_ "cardmemo.showanswer"}}</button>
                                </div>
                            </div>
                        {{/if}}
                    {{/unless}}
                {{/unless}}
                {{> memoPictureForm}}
                <br>
                <br>
                <button class="btn btn-block btn-raised btn-danger" id="backButton">
                    <span class="pull-left">{{_ "backbutton"}}</span>
                </button>
            </div>
        </div>
    </div>
</template>

<template name="memoRate">
    <div class="btn-group btn-group-raised btn-group-justified">
        <div class="btn-group">
            <button id="memoRate0" class="btn btn-default btn-raised btn-danger rate-answer wrong" data-id="0"
                    data-toggle="tooltip" title="{{_ "cardmemo.rate0"}}">0
            </button>
        </div>
        <div class="btn-group">
            <button id="memoRate1" class="btn btn-default btn-raised rate-answer wrong" data-id="1"
                    data-toggle="tooltip"
                    title="{{_ "cardmemo.rate1"}}">1
            </button>
        </div>
        <div class="btn-group">
            <button id="memoRate2" class="btn btn-default btn-raised rate-answer" data-id="2" data-toggle="tooltip"
                    title="{{_ "cardmemo.rate2"}}">2
            </button>
        </div>
        <div class="btn-group">
            <button id="memoRate3" class="btn btn-default btn-raised rate-answer" data-id="3" data-toggle="tooltip"
                    title="{{_ "cardmemo.rate3"}}">3
            </button>
        </div>
        <div class="btn-group">
            <button id="memoRate4" class="btn btn-default btn-raised rate-answer" data-id="4" data-toggle="tooltip"
                    title="{{_ "cardmemo.rate4"}}">4
            </button>
        </div>
        <div class="btn-group">
            <button id="memoRate5" class="btn btn-default btn-raised btn-success rate-answer" data-id="5"
                    data-toggle="tooltip"
                    title="{{_ "cardmemo.rate5"}}">5
            </button>
        </div>
        <div class="btn-group">
            <button id="memetext" class="btn btn-default btn-raised btn-info memo-helptext" data-trigger="focus"
                    data-toggle="popover" title="Info"
                    data-container="body" data-content="{{_ "cardmemo.memotext"}}">
                <i class="glyphicon glyphicon-question-sign"></i>
            </button>
        </div>
    </div>
</template>

<template name="memoPictureForm">
    <div class="modal fade col-md-6" id="memoPictureModal" tabindex="-1" role="dialog"
         aria-labelledby="memoPictureModalTitle">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                    <h4 id="memoPictureModalTitle" class="modal-title"></h4>
                </div>
                <div class="modal-body" id="setdetails-memoPictureModal-body"></div>
            </div>
            <!-- /.modal-content -->
        </div>
        <!-- /.modal-dialog -->
    </div>
    <!-- /.modal -->
</template>
