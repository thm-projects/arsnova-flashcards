<template name="mainNavigationTop">
    {{#unless fullscreenActive}}
        {{#if currentUser}}
            {{#unless isInRole 'firstLogin'}}
                {{#unless isInRole 'blocked'}}
                    <nav id="navbar-cards-top" class="navbar navbar-default navbar-fixed-top navbar-cards">
                        <div class="container">
                            <div class="visible-xs navbar-header">
                                <div class="navbar-header-item pull-left">
                                    {{{getNavigationName}}}
                                </div>
                                <div class="navbar-header-item pull-right">
                                    <button type="button"
                                            class="navbar-toggle toggle-navbar-collapse needsclick">
                                        <span class="icon-bar toggle-navbar-collapse needsclick"></span>
                                        <span class="icon-bar toggle-navbar-collapse needsclick"></span>
                                        <span class="icon-bar toggle-navbar-collapse needsclick"></span>
                                    </button>
                                </div>
                                {{#if isImpressum}}
                                    <div class="navbar-header-item navbar-header-button toggleFooterNavigation needsclick pull-right">
                                        <a href="">
                                            {{{getNavigationName "toggleImpressum"}}}
                                        </a>
                                    </div>
                                    <div class="navbar-header-item navbar-header-button pull-right">
                                        {{> mainNavigationFooterItemStatisticsMobile}}
                                    </div>
                                {{/if}}
                                <div class="navbar-header-item pull-right">
                                    {{> mainNavigationTopItemConnectionStatus visibility=0}}
                                </div>
                                {{#unless isImpressum}}
                                    <div class="navbar-header-item pull-right">
                                        {{> mainNavigationTopItemSearchInput longPlaceholder=false}}
                                    </div>
                                {{/unless}}
                                <div class="navbar-header-item pull-right">
                                    {{> mainNavigationTopItemUseCasesMobile}}
                                </div>
                            </div>
                            <div class="visible-xs">
                                {{> mainNavigationFooterDropdownContent}}
                            </div>
                            {{> mainNavigationTopDropdownContent}}
                        </div>
                    </nav>
                {{/unless}}
            {{/unless}}
        {{/if}}
    {{/unless}}
</template>

<template name="mainNavigationTopDropdownContent">
    <div class="collapse navbar-collapse" id="navbar-cards-top-collapse">
        <ul class="nav navbar-nav navbar-left">
            {{> mainNavigationTopItemUseCasesDesktop}}
            {{> mainNavigationTopItemSearch}}
            {{> mainNavigationTopItemPool}}
            {{> mainNavigationTopItemRepetitorium}}
            {{> mainNavigationTopItemWorkload}}
            {{> mainNavigationTopItemMyCardsets}}
            {{> mainNavigationTopItemHelp}}
        </ul>
        <ul class="nav navbar-nav navbar-right">
            {{> mainNavigationTopItemAllCardsets}}
            {{> mainNavigationTopItemBackend}}
            {{> mainNavigationTopItemConnectionStatus visibility=1}}
            {{> mainNavigationTopItemProfile}}
            {{> mainNavigationTopItemLogout}}
        </ul>
    </div>
</template>
