<template name="presentation">
    {{#if hasPermission}}
        {{#if isPresentationTranscriptReviewRoute}}
            {{#if gotTranscriptsLeftToReview}}
                {{> presentationView}}
            {{else}}
                <div class="container">
                    {{> flashcardsReviewEnd}}
                </div>
            {{/if}}
        {{else}}
            {{> presentationView}}
        {{/if}}
    {{else}}
        {{> accessDenied}}
    {{/if}}
</template>

<template name="makingOfCards">
    {{#if gotMakingOfCardsetData}}
        {{> presentationView}}
    {{/if}}
</template>

<template name="presentationView">
    {{#unless isTranscriptRoute}}
        {{> pomodoroTimerModal}}
    {{/unless}}
    {{#if isActiveRoute regex='demolist|presentationlist|makinglist'}}
        {{#if isCardsetIndexSelectMode}}
            <button class="btn btn-raised btn-danger"
                    id="backToCardset">
                <span class="pull-left"><i class="fas fa-arrow-left"></i> </span>
                {{#if this.shuffled}}
                    {{_ "cardsetIndex.button.back.repetitorium"}}
                {{else}}
                    {{_ "cardsetIndex.button.back.cardset"}}
                {{/if}}
            </button>
        {{else}}
            <button class="btn btn-raised btn-danger"
                    id="{{#if fullscreenActive}}backToPresentationFullscreen{{else}}backToPresentation{{/if}}">
        <span class="pull-left"><i class="fas fa-arrow-left"></i> {{#if isActiveRoute regex='demolist'}}{{_
                "presentation.list.backDemo"}}{{else}}{{_ "presentation.list.back"}}{{/if}}</span>
            </button>
        {{/if}}
        {{> cardsetList}}
    {{else}}
        {{#if isPresentationTranscriptCardsetRoute}}
            {{> cardNavigationItemReview}}
        {{/if}}
        {{#unless isMobilePreview}}
            <div class="hidden-xs {{#if isActiveRoute regex='demo'}}row demo-padding{{else}}col-xs-12{{/if}}">
                {{> cardNavigation}}
            </div>
        {{/unless}}
        <div class="{{#if isActiveRoute regex='demo'}}row demo-padding{{else}}col-xs-12{{/if}}">
            {{> flashcards}}
        </div>
        <div class="{{#unless isMobilePreview}}visible-xs{{/unless}} cardNavigationContainer {{#if isActiveRoute
                                                                                                   regex='demo'}}row demo-padding{{else}}col-xs-12{{/if}}">
            {{> cardNavigation}}
        </div>
    {{/if}}
</template>
