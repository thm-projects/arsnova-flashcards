<template name="filterIndex">
    {{> showLicense}}
    {{> filterItemSelectCardsetToLearnCallout}}
    {{#if isActiveRoute regex='alldecks|repetitorium'}}
        {{> cardsetFormAdmin}}
    {{/if}}
    {{#if isActiveRoute regex='alldecks|create'}}
        {{> cardsetDeleteForm}}
        {{> cardsetForm}}
        {{> filterIndexCreate}}
    {{/if}}

    {{#if isActiveRoute regex='repetitorium'}}
        {{> cardsetDeleteForm}}
        {{> cardsetForm}}
        {{> filterIndexRepetitorium}}
    {{/if}}

    {{#if isActiveRoute 'learn'}}
        {{> selectModeForm}}
        {{> cardsetsConfirmLearnForm}}
        {{> filterIndexWorkload}}
    {{/if}}

    {{#if isActiveRoute 'shuffle'}}
        {{> cardsetForm}}
        {{> filterIndexShuffle}}
    {{/if}}

    {{#if isActiveRoute 'pool'}}
        {{> cardsetForm}}
        {{> filterIndexPool}}
    {{/if}}
</template>

<template name="filterIndexPool">
    {{#if canCreateContent}}
        {{> filterItemCreateCardsetButton}}
    {{else}}
        <div class="empty-button-placeholder"></div>
    {{/if}}
    {{#if getDecks 0}}
        {{> filterNavigation}}
        {{#if displayWordcloud}}
            {{> wordcloud}}
        {{else}}
            {{#if getDecks 1}}
                {{#each getDecks 2}}
                    {{> filterIndexItemCardset extendContext 'index' @index}}
                {{/each}}
                {{> infiniteScroll}}
            {{else}}
                {{> noFilterResults}}
            {{/if}}
        {{/if}}
    {{else}}
        {{> noResults}}
    {{/if}}
</template>

<template name="filterIndexShuffle">
    {{#if canShuffle}}
        <div class="container" id="set-list-region">
            {{> filterItemShuffleRepetitoriumCallout}}
            {{> filterNavigation}}
            {{#if shuffleList 1}}
                {{#each shuffleList 2}}
                    {{#unless isActiveCardset}}
                        {{> filterIndexItemCardset extendContext 'index' @index}}
                    {{/unless}}
                {{/each}}
                {{> infiniteScroll}}
            {{else}}
                {{> noFilterResults}}
            {{/if}}
        </div>
    {{/if}}
</template>

<template name="filterIndexCreate">
    <div class="container" id="set-list-region">
        {{#if isActiveRoute 'create'}}
            {{> filterItemCreateCardsetButton}}
            {{> filterItemImportCardsetButton}}
        {{/if}}
        {{#if cardsetList 0}}
            {{> filterNavigation}}
            {{#if displayWordcloud}}
                {{> wordcloud}}
            {{else}}
                {{#if cardsetList 1}}
                    {{#each cardsetList 2}}
                        {{> filterIndexItemCardset extendContext 'index' @index}}
                    {{/each}}
                    {{> infiniteScroll}}
                {{else}}
                    {{> noFilterResults}}
                {{/if}}
            {{/if}}
        {{else}}
            {{> noResults}}
        {{/if}}
    </div>
</template>

<template name="filterIndexRepetitorium">
    <div class="container" id="set-list-region">
        {{> filterItemCreateRepetitoriumButton}}
        {{#if cardsetList 0}}
            {{> filterNavigation}}
            {{#if displayWordcloud}}
                {{> wordcloud}}
            {{else}}
                {{#if cardsetList 1}}
                    {{#each cardsetList 2}}
                        {{> filterIndexItemCardset extendContext 'index' @index}}
                    {{/each}}
                    {{> infiniteScroll}}
                {{else}}
                    {{> noFilterResults}}
                {{/if}}
            {{/if}}
        {{else}}
            {{> noResults}}
        {{/if}}
    </div>
</template>

<template name="filterIndexWorkload">
    <div id="learn-list-region" class="container">
        {{> filterItemSelectCardsetButton}}
        {{> filterItemSelectRepetitoriumButton}}
        {{#if learnList 0}}
            {{> filterNavigation}}
            {{#if learnList 1}}
                {{#each learnList 2}}
                    {{> filterIndexItemCardset extendContext 'index' @index}}
                {{/each}}
                {{> infiniteScroll}}
            {{else}}
                {{> noFilterResults}}
            {{/if}}
        {{/if}}
    </div>
</template>
