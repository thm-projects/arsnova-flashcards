<template name="filterNavigation">
    <div class="buttonHeader">
        {{#if selectingCardsetToLearn}}
            <div class="bs-callout bs-callout-info selectionInfo">
                <a id="cancelSelection" class="btn btn-raised btn-danger">
                    {{_ "confirmLearn-form.cancel"}}
                </a>
                <span class="text">
                    {{_ "pool.selectCardToLearn"}}
                </span>
            </div>
            <br>
        {{/if}}
        <nav class="navbar navbar-default {{#if isActiveRoute regex='pool|alldecks'}}no-navigation{{/if}}">
            <div class="container-fluid" id="filter-nav-wrapper">
                <div class="navbar-header">
                    <button class="resetFilters btn btn-raised btn-danger hidden-md hidden-lg float-left"
                            id="resetBtnMobile"
                            role="button"><i class="glyphicon glyphicon-filter"></i> {{_ "set-list.reset"}} </button>
                    <p class="navbar-text visible-sm-inline-block">{{_
                            "set-list.filter-info-small"}}</p>
                    <p class="navbar-text visible-xs-inline-block">{{_ "set-list.filter-info-extra-small"}}</p>
                    <button type="button" class="navbar-toggle collapsed" data-toggle="collapse"
                            data-target="#filter-nav"
                            aria-expanded="false">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                </div>
                <div class="collapse navbar-collapse" id="filter-nav">
                    <ul class="nav navbar-nav col-md-12">
                        <li>
                            <button class="resetFilters btn btn-raised btn-danger visible-md visible-lg" id="resetBtn"
                                    role="button"><i class="glyphicon glyphicon-filter"></i> {{_ "set-list.reset"}}
                            </button>
                        </li>

                        {{#if isActiveRoute regex='alldecks|pool'}}
                            <li class="dropdown">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button"
                                   aria-haspopup="true" aria-expanded="false" id="t" value="down">
                                    {{_ "filter-pool.sort"}}{{{getSortTopicIcon}}}{{{getSortCreatedDateIcon}}}{{{getSortUpdatedDateIcon}}}
                                </a>
                                <ul class="dropdown-menu">
                                    <li>
                                        <a href="#" id="topicBtn">
                                            {{_ "set-list.topic"}}
                                            {{{getSortTopicIcon}}}
                                        </a>
                                        <a href="#" class="createdDateBtn">
                                            {{_ "pool.release"}}
                                            {{{getSortCreatedDateIcon}}}
                                        </a>
                                        <a href="#" class="updatedDateBtn">
                                            {{_ "pool.dateUpdated"}}
                                            {{{getSortUpdatedDateIcon}}}
                                        </a>
                                    </li>
                                </ul>
                            </li>
                        {{/if}}

                        {{#if isActiveRoute regex='course|create'}}
                            <li class="dropdown">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button"
                                   aria-haspopup="true" aria-expanded="false" id="topicBtn" value="down">
                                    {{#if isActiveRoute regex='course'}}
                                        {{_ "courseIteration.list.courseIteration"}}
                                    {{else}}
                                        {{_ "set-list.topic"}}
                                    {{/if}}
                                    {{{getSortTopicIcon}}}
                                </a>
                            </li>
                        {{/if}}

                        {{#unless isActiveRoute
                                  regex='course'}}
                            <li class="dropdown">
                                <a href="#" class="dropdown-toggle cardTypeBtn" data-toggle="dropdown" role="button"
                                   aria-haspopup="true" aria-expanded="false">
                                    {{_ "cardType"}}
                                    {{#if hasCardTypeFilter}}
                                        <span class="glyphicon glyphicon-filter navigationFilterIcon"></span>
                                    {{/if}}
                                </a>
                                <ul class="dropdown-menu">
                                    {{> cardTypesList filter=true}}
                                </ul>
                            </li>
                        {{/unless}}
                        {{#unless isActiveRoute regex='course'}}
                            <li class="dropdown">
                                <a href="#" id="difficultyFilter" class="dropdown-toggle moduleBtn"
                                   data-toggle="dropdown"
                                   role="button"
                                   aria-haspopup="true" aria-expanded="false">
                                    {{_ "difficulty"}}
                                    {{#if hasDifficultyFilter}}
                                        <span class="glyphicon glyphicon-filter navigationFilterIcon"></span>
                                    {{/if}}
                                </a>
                                <ul class="dropdown-menu">
                                    <li>
                                        <a href="#" class="filterNoDifficulty active">{{_
                                                "set-list.everything"}}</a>
                                    </li>
                                    {{#each getDifficulty}}
                                        <li>
                                            <a href="#" class="filterDifficulty"
                                               data-id="{{this.difficulty}}">{{getDifficultyName}}
                                                {{#if poolFilterDifficulty}}
                                                    <span class="glyphicon glyphicon-filter"></span>
                                                {{/if}}
                                            </a>
                                        </li>
                                    {{/each}}
                                </ul>
                            </li>
                        {{/unless}}
                        {{#if isActiveRoute
                              regex='create|learn'}}
                            <li class="dropdown">
                                <a href="#" class="dropdown-toggle cardTypeBtn" data-toggle="dropdown" role="button"
                                   aria-haspopup="true" aria-expanded="false">
                                    {{_ "courseIteration.name"}}
                                    {{#if hasCourseIterationFilter}}
                                        <span class="glyphicon glyphicon-filter navigationFilterIcon"></span>
                                    {{/if}}
                                </a>
                                <ul class="dropdown-menu">
                                    <li>
                                        <a href="#" class="filterNoCourseIteration active" data-id="">{{_
                                                "set-list.everyone"}}</a>
                                        <a href="#" class="filterCourseIteration active" data-id="0">{{_
                                                "set-list.none"}}</a>
                                    </li>
                                </ul>
                            </li>
                        {{/if}}
                        {{#if isActiveRoute
                              regex='pool|course|alldecks'}}
                            <li class="dropdown">
                                <a href="#" class="dropdown-toggle authorBtn" data-toggle="dropdown" role="button"
                                   aria-haspopup="true" aria-expanded="false">
                                    {{_ "set-list.author"}}
                                    {{#if hasAuthorFilter}}
                                        <span class="glyphicon glyphicon-filter navigationFilterIcon"></span>
                                    {{/if}}
                                </a>
                                <ul class="dropdown-menu">
                                    <li>
                                        <a href="#" class="filterAuthor active" data-id="">{{_ "set-list.everyone"}}</a>
                                    </li>
                                    {{#each getAuthors}}
                                        {{#if filterAuthors}}
                                            <li>
                                                <a href="#" class="filterAuthor"
                                                   data-id="{{this._id}}">{{getAuthorName}}
                                                    {{#if poolFilterAuthor this._id}}
                                                        <span class="glyphicon glyphicon-filter navigationFilterIcon"></span>
                                                    {{/if}}
                                                </a>
                                            </li>
                                        {{/if}}
                                    {{/each}}
                                </ul>
                            </li>
                        {{/if}}

                        {{#if isActiveRoute regex='course'}}
                            {{#unless singleUniversity}}
                                <li class="dropdown">
                                    <a href="#" class="dropdown-toggle collegeBtn" data-toggle="dropdown" role="button"
                                       aria-haspopup="true" aria-expanded="false">
                                        {{_ "set-list.college"}}
                                        {{#if hasCollegeFilter}}
                                            <span class="glyphicon glyphicon-filter navigationFilterIcon"></span>
                                        {{/if}}
                                    </a>
                                    <ul class="dropdown-menu">
                                        <li>
                                            <a href="#" class="filterCollege active" data-id="">{{_
                                                    "set-list.everything"}}</a>
                                            <a href="#" class="filterNoModule active" data-id="">{{_
                                                    "set-list.noCollege"}}</a>
                                        </li>
                                        {{#each getColleges}}
                                            <li>
                                                <a href="#" class="filterCollege"
                                                   data-id="{{this.college}}">{{this.college}}
                                                    {{#if poolFilterCollege this.college}}
                                                        <span class="glyphicon glyphicon-filter"></span>
                                                    {{/if}}
                                                </a>
                                            </li>
                                        {{/each}}
                                    </ul>
                                </li>
                            {{/unless}}
                        {{/if}}
                        {{#if isActiveRoute
                              regex='course'}}
                            <li class="dropdown">
                                <a href="#" class="dropdown-toggle targetAudienceBtn" data-toggle="dropdown"
                                   role="button"
                                   aria-haspopup="true" aria-expanded="false" id="targetAudienceBtn">
                                    {{_ "courseIteration.targetAudience"}}
                                    {{#if hasTargetAudienceFilter}}
                                        <span class="glyphicon glyphicon-filter navigationFilterIcon"></span>
                                    {{/if}}
                                </a>
                                <ul class="dropdown-menu">
                                    <li>
                                        <a href="#" class="filterTargetAudience active" data-id="">{{_
                                                "set-list.everything"}}</a>
                                    </li>
                                    {{> targetAudienceList filter=true}}
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="dropdown-toggle semesterBtn" data-toggle="dropdown" role="button"
                                   aria-haspopup="true" aria-expanded="false" id="semesterBtn">
                                    {{_ "courseIteration.list.semester"}}
                                    {{#if hasSemesterFilter}}
                                        <span class="glyphicon glyphicon-filter navigationFilterIcon"></span>
                                    {{/if}}
                                </a>
                                <ul class="dropdown-menu">
                                    <li>
                                        <a href="#" class="filterSemester active" data-id="">{{_
                                                "set-list.everything"}}</a>
                                    </li>
                                    {{> semesterList filter=true}}
                                </ul>
                            </li>
                        {{/if}}
                        {{#unless isActiveRoute
                                  regex='pool|create|learn|alldecks|shuffle'}}
                            <li class="dropdown">
                                <a href="#" class="dropdown-toggle courseBtn" data-toggle="dropdown" role="button"
                                   aria-haspopup="true" aria-expanded="false" id="collegeBtn">
                                    {{_ "set-list.course"}}
                                    {{#if hasCourseFilter}}
                                        <span class="glyphicon glyphicon-filter navigationFilterIcon"></span>
                                    {{/if}}
                                </a>
                                <ul class="dropdown-menu">
                                    <li>
                                        <a href="#" class="filterCourse active" data-id="">{{_
                                                "set-list.everything"}}</a>
                                        <a href="#" class="filterNoCourse active" data-id="">{{_
                                                "set-list.noCourse"}}</a>
                                    </li>
                                    {{#each getCourses}}
                                        <li>
                                            <a href="#" class="filterCourse" data-id="{{this.course}}">{{this.course}}
                                                {{#if poolFilterCourse this.course}}
                                                    <span class="glyphicon glyphicon-filter"></span>
                                                {{/if}}
                                            </a>
                                        </li>
                                    {{/each}}
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" id="moduleFilter" class="dropdown-toggle moduleBtn" data-toggle="dropdown"
                                   role="button"
                                   aria-haspopup="true" aria-expanded="false">
                                    {{_ "set-list.module"}}
                                    {{#if hasModuleFilter}}
                                        <span class="glyphicon glyphicon-filter navigationFilterIcon"></span>
                                    {{/if}}
                                </a>
                                <ul class="dropdown-menu">
                                    <li>
                                        <a href="#" class="filterModule active" data-id="">{{_
                                                "set-list.everything"}}</a>
                                        <a href="#" class="filterNoModule active" data-id="">{{_
                                                "set-list.noModuleLong"}}</a>
                                    </li>
                                    {{#each getModules}}
                                        <li><a href="#" class="filterModule" data-id="{{this.module}}">
                                            {{this.moduleToken}} [{{this.moduleNum}}]:
                                            {{this.module}}
                                            {{#if poolFilterModule this.module}}
                                                <span class="glyphicon glyphicon-filter"></span>
                                            {{/if}}
                                        </a></li>
                                    {{/each}}
                                </ul>
                            </li>
                        {{/unless}}
                        {{#if isActiveRoute
                              regex='pool|learn|alldecks'}}
                            <li class="dropdown">
                                <a href="#" id="learnphaseFilter" class="dropdown-toggle" data-toggle="dropdown"
                                   role="button"
                                   aria-haspopup="true" aria-expanded="false">
                                    {{_ "set-list.learnphase"}}
                                    {{#if hasLearnphaseFilter}}
                                        <span class="glyphicon glyphicon-filter navigationFilterIcon"></span>
                                    {{/if}}
                                </a>
                                <ul class="dropdown-menu">
                                    <li>
                                        <a href="#" class="filterLearnphase active" data-id="reset">{{_
                                                "set-list.everything"}}</a>
                                    </li>
                                    <li><a href="#" class="filterLearnphase" data-id="true">
                                        {{_ "set-list.activeLearnphase"}}
                                        {{#if poolFilterLearnphase true}}
                                            <span class="glyphicon glyphicon-filter"></span>
                                        {{/if}}
                                    </a></li>
                                    <li><a href="#" class="filterLearnphase" data-id="false">
                                        {{_ "set-list.inactiveLearnphase"}}
                                        {{#if poolFilterLearnphase false}}
                                            <span class="glyphicon glyphicon-filter"></span>
                                        {{/if}}
                                    </a></li>
                                </ul>
                            </li>
                        {{/if}}
                        {{#if isActiveRoute regex='pool|alldecks'}}
                            <li class="dropdown">
                                <a href="#" id="wordcloudFilter" class="dropdown-toggle wordcloudBtn"
                                   data-toggle="dropdown"
                                   role="button"
                                   aria-haspopup="true" aria-expanded="false">
                                    {{_ "filter-pool.wordcloud"}}
                                    {{#if hasWordcloudFilter}}
                                        <span class="glyphicon glyphicon-filter navigationFilterIcon"></span>
                                    {{/if}}
                                </a>
                                <ul class="dropdown-menu">
                                    <li>
                                        <a href="#" class="filterNoWordcloud">{{_
                                                "filter-pool.wordcloudEveryting"}}</a>
                                    </li>
                                    <li>
                                        <a href="#" class="filterWordcloud"
                                           data-id="true">{{_ "filter-pool.wordcloudTrue"}}
                                            {{#if poolFilterWordcloud "true"}}
                                                <span class="glyphicon glyphicon-filter"></span>
                                            {{/if}}
                                        </a>
                                    </li>
                                    <li>
                                        <a href="#" class="filterWordcloud"
                                           data-id="false">{{_ "filter-pool.wordcloudFalse"}}
                                            {{#if poolFilterWordcloud "false"}}
                                                <span class="glyphicon glyphicon-filter"></span>
                                            {{/if}}
                                        </a>
                                    </li>
                                </ul>
                            </li>
                        {{/if}}
                        {{#if isActiveRoute
                              regex='alldecks|pool|course|create'}}
                            <ul class="nav navbar-nav navbar-right">
                                <div id="filterCheckbox" class="btn-group" role="group" data-toggle="buttons"
                                     aria-label="License group" style="padding-top: 20px;">
                                    {{#if isActiveRoute regex='alldecks|create|course'}}
                                        <label class="btn btn-warning btn-sm active">
                                            <input type="checkbox" autocomplete="off" value="personal" checked="">
                                            {{_ 'access-level.private.short'}}
                                        </label>
                                    {{/if}}
                                    <label class="btn btn-info btn-sm active">
                                        <input type="checkbox" autocomplete="off" value="free" checked=""> {{_
                                            'access-level.free.short'}}
                                    </label>
                                    <label class="btn btn-success btn-sm active">
                                        <input type="checkbox" autocomplete="off" value="edu" checked=""> {{_
                                            'access-level.edu.short'}}
                                    </label>
                                    <label class="btn btn-danger btn-sm active">
                                        <input type="checkbox" autocomplete="off" value="pro" checked=""> {{_
                                            'access-level.pro.short'}}
                                    </label>
                                </div>
                            </ul>
                        {{/if}}
                    </ul>
                </div>
            </div>
        </nav>
    </div>
</template>

<template name="infiniteScroll">
    {{#if moreResults}}
        <a href="#" title="{{_ "set-list.moreResults"}}">
            <div id="showMoreResults" class="showMoreResults col-xs-12 panel panel-default">
                <span class="scrollArrow col-xs-12 infinite-scroll-icon glyphicon glyphicon-chevron-down">
                    <span class="resultCounter">{{getCurrentResults}}</span>
                </span>
            </div>
        </a>
    {{/if}}
</template>
