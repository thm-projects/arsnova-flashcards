<template name="newCard">
    {{#if isInRole 'firstLogin'}}
        {{> first_login_content_only}}
    {{else}}
        {{#if isInRole 'blocked'}}
            {{> access_denied_content_only}}
        {{else}}
            {{#if isCardsetOwner this._id}}
                {{> editor}}
            {{else}}
                <h4>{{_ "permission"}}</h4>
            {{/if}}
        {{/if}}
    {{/if}}
</template>

<template name="editCard">
    {{#if isInRole 'firstLogin'}}
        {{> first_login_content_only}}
    {{else}}
        {{#if isInRole 'blocked'}}
            {{> access_denied_content_only}}
        {{else}}
            {{#if isEditor}}
                {{> editor}}
            {{else}}
                <h4>{{_ "permission"}}</h4>
            {{/if}}
        {{/if}}
    {{/if}}
</template>

<template name="editor">
    {{getContent}}
    {{> cancelEditForm}}
    {{> deleteCardForm}}
    <div class="row firstEditorRow editorElement">
        <div id="cardType" class="col-md-6 cardtext editorElement">
            <h5>{{_ "cardType"}}</h5>
            {{> cardType}}
        </div>
        <div id="difficulty" class="col-md-6 cardtext editorElement">
            {{#unless isCardType 2}}
                <h5>{{_ "difficulty"}}</h5>
            {{else}}
                <h5>{{_ "difficultyNotes"}}</h5>
            {{/unless}}
            {{> difficultyEditor}}
        </div>
    </div>
    <div class="row">
        <div id="subject" class="col-md-6 cardtext editorElement">
            <h5>{{_ "cardSubject"}}</h5>
            {{> selectLearningUnit}}
            {{> subjectEditor}}
        </div>
        <div id="learningGoalLevel" class="col-md-6 cardtext editorElement">
            {{#unless isCardType 1}}
                {{#unless isCardType 2}}
                    {{#unless isCardType 3}}
                        <h5>{{_ "learning-goal.name"}}</h5>
                        {{> learningGoalLevel}}
                    {{/unless}}
                {{/unless}}
            {{/unless}}
        </div>
    </div>
    <div class="row">
        <div class="col-xs-12 {{#unless fullscreenActive}}col-lg-6{{/unless}}">
            <h5 class="editorElement editorHeader">{{_ "content"}}</h5>
            <div class="btn-group col-xs-12 editorNavigation cardtext editorToolbar" role="group">
                <button id="editFront" type="button"
                        class="btn btn-primary btn-raised {{#unless isCardType 5}}col-xs-6 {{#if isCardType
                                                                                                 0}}col-sm-3{{else}}{{#if
                                isCardType
                                2
                                4}}col-sm-4{{else}}col-sm-6{{/if}}{{/if}}{{else}}col-xs-12{{/unless}}"
                        tabindex="5">{{getFrontTitle}}</button>
                {{#if isCardType 0}}
                    <button id="editLecture" type="button" class="btn btn-default btn-raised col-xs-6 col-sm-3"
                            tabindex="9">{{_
                            "card.cardType0.lecture"}}</button>
                {{/if}}
                {{#unless isCardType 5}}
                    <button id="editBack" type="button"
                            class="btn btn-default btn-raised col-xs-6 {{#if isCardType 0}}col-sm-3{{else}}{{#if
                                    isCardType
                                    2
                                    4}}col-sm-4{{else}}col-sm-6{{/if}}{{/if}}"
                            tabindex="7">{{getBackTitle}}</button>
                {{/unless}}
                {{#unless isCardType 1}}
                    {{#unless isCardType 3}}
                        {{#unless isCardType 5}}
                            <button id="editHint" type="button"
                                    class="btn btn-default btn-raised col-xs-6 {{#if isCardType
                                                                                     0}}col-sm-3{{else}}col-sm-4{{/if}}"
                                    tabindex="11">{{#if isCardType 0}}{{_
                                    "card.cardType0.hint"}}{{/if}}{{#if isCardType 2}}{{_
                                    "card.cardType2.hint"}}{{/if}}{{#if isCardType 4}}{{_
                                    "card.cardType4.hint"}}{{/if}}</button>
                        {{/unless}}
                    {{/unless}}
                {{/unless}}
            </div>
            <div id="editor" class="cardtext editorToolbar" data-content="{{front}}">
                {{> contentEditor}}
            </div>
        </div>
        {{isTextCentered}}
        <div id="preview" class="col-xs-12 {{#unless fullscreenActive}}col-lg-6{{/unless}} cardtext">
            <h5 class="editorElement">{{_ "previewEdit"}}</h5>
            {{> flashcards cardset=this}}
        </div>
        {{> btnCard}}
    </div>
</template>

<template name="cardType">
    <div id="cardTypeGroup" class="form-group btn-group" role="group" data-toggle="buttons">
        <label id="cardType0" class="col-xs-6 col-sm-2 btn btn-default btn-white {{#if isCardType 0}}active{{/if}}"
               data-type="0">
            {{#if isCardType 0}}
                <input type="radio" id="tabFocus" name="cardType" value="0" checked tabindex="2" data-type="0">
            {{else}}
                <input type="radio" name="cardType" value="0" data-type="0">
            {{/if}}
            {{_ "card.cardType0.name"}}
        </label>
        <label id="cardType3" class="col-xs-6 col-sm-2 btn btn-default btn-white {{#if isCardType 3}}active{{/if}}"
               data-type="3">
            {{#if isCardType 3}}
                <input type="radio" id="tabFocus" name="cardType" value="3" checked tabindex="2" data-type="3">
            {{else}}
                <input type="radio" name="cardType" value="3" data-type="3">
            {{/if}}
            {{_ "card.cardType3.name"}}
        </label>
        <label id="cardType4" class="col-xs-6 col-sm-2 btn btn-default btn-white {{#if isCardType 4}}active{{/if}}"
               data-type="4">
            {{#if isCardType 4}}
                <input type="radio" id="tabFocus" name="cardType" value="4" checked tabindex="2" data-type="4"
                       autofocus>
            {{else}}
                <input type="radio" name="cardType" value="4" data-type="4">
            {{/if}}
            {{_ "card.cardType4.name"}}
        </label>
        <label id="cardType5" class="col-xs-6 col-sm-2 btn btn-default btn-white {{#if isCardType 5}}active{{/if}}"
               data-type="5">
            {{#if isCardType 5}}
                <input type="radio" id="tabFocus" name="cardType" value="5" checked tabindex="2" data-type="5">
            {{else}}
                <input type="radio" name="cardType" value="5" data-type="5">
            {{/if}}
            {{_ "card.cardType5.name"}}
        </label>
        <label id="cardType2" class="col-xs-6 col-sm-2 btn btn-default btn-white {{#if isCardType 2}}active{{/if}}"
               data-type="2">
            {{#if isCardType 2}}
                <input type="radio" id="tabFocus" name="cardType" value="2" checked tabindex="2" data-type="2">
            {{else}}
                <input type="radio" name="cardType" value="2" data-type="2">
            {{/if}}
            {{_ "card.cardType2.name"}}
        </label>
        <label id="cardType1" class="col-xs-6 col-sm-2 btn btn-default btn-white {{#if isCardType 1}}active{{/if}}"
               data-type="1">
            {{#if isCardType 1}}
                <input type="radio" id="tabFocus" name="cardType" value="1" checked tabindex="2" data-type="1">
            {{else}}
                <input type="radio" name="cardType" value="1" data-type="1">
            {{/if}}

            {{_ "card.cardType1.name"}}
        </label>
    </div>
</template>

<template name="difficultyEditor">
    <div id="difficultyGroup" class="form-group btn-group" role="group" data-toggle="buttons">
        <label id="difficulty0"
               class="col-xs-6 col-sm-3 btn btn-default {{#if isCardType 2}}btn-orange{{else}}btn-white{{/if}} {{#if
                       isDifficultyChecked 0}}active{{/if}}"
               data-color="0">
            {{#if isDifficultyChecked 0}}
                <input type="radio" name="difficulty" value="0" checked tabindex="3">
            {{else}}
                <input type="radio" name="difficulty" value="0">
            {{/if}}
            {{#unless isCardType 2}}
                {{_ "difficulty0"}}
            {{else}}
                {{_ "difficultyNotes0"}}
            {{/unless}}
        </label>
        <label id="difficulty1"
               class="col-xs-6 col-sm-3 btn btn-default btn-info {{#if isDifficultyChecked 1}}active{{/if}}"
               data-color="1">
            {{#if isDifficultyChecked 1}}
                <input type="radio" name="difficulty" value="1" checked tabindex="3">
            {{else}}
                <input type="radio" name="difficulty" value="1">
            {{/if}}
            {{#unless isCardType 2}}
                {{_ "difficulty1"}}
            {{else}}
                {{_ "difficultyNotes1"}}
            {{/unless}}
        </label>
        <label id="difficulty2"
               class="col-xs-6 col-sm-3 btn btn-default btn-success {{#if isDifficultyChecked 2}}active{{/if}}"
               data-color="2">
            {{#if isDifficultyChecked 2}}
                <input type="radio" name="difficulty" value="2" checked tabindex="3">
            {{else}}
                <input type="radio" name="difficulty" value="2">
            {{/if}}
            {{#unless isCardType 2}}
                {{_ "difficulty2"}}
            {{else}}
                {{_ "difficultyNotes2"}}
            {{/unless}}
        </label>
        <label id="difficulty3"
               class="col-xs-6 col-sm-3 btn btn-default btn-danger {{#if isDifficultyChecked 3}}active{{/if}}"
               data-color="3">
            {{#if isDifficultyChecked 3}}
                <input type="radio" name="difficulty" value="3" checked tabindex="3">
            {{else}}
                <input type="radio" name="difficulty" value="3">
            {{/if}}
            {{#unless isCardType 2}}
                {{_ "difficulty3"}}
            {{else}}
                {{_ "difficultyNotes3"}}
            {{/unless}}
        </label>
    </div>
</template>

<template name="learningGoalLevel">
    <div id="learningGoalLevelGroup" class="form-group btn-group col-xs-12" role="group" data-toggle="buttons">
        <label id="learningGoalLevel0"
               class="col-xs-6 col-sm-2 btn btn-raised {{#if isLearningGoalLevelChecked
                                                             0}}btn-primary{{else}}btn-white{{/if}} {{#if
                       isLearningGoalLevel 0}}active{{/if}}"
               data-lvl="0">
            {{#if isLearningGoalLevel 0}}
                <input type="radio" name="learningGoalLevel" value="0" checked tabindex="4">
            {{else}}
                <input type="radio" name="learningGoalLevel" value="0">
            {{/if}}
            {{_ "learning-goal.level1"}}
        </label>
        <label id="learningGoalLevel1"
               class="col-xs-6 col-sm-2 btn btn-raised {{#if isLearningGoalLevelChecked
                                                             1}}btn-primary{{else}}btn-white{{/if}} {{#if
                       isLearningGoalLevel 1}}active{{/if}}"
               data-lvl="1">
            {{#if isLearningGoalLevel 1}}
                <input type="radio" name="learningGoalLevel" value="1" checked tabindex="4">
            {{else}}
                <input type="radio" name="learningGoalLevel" value="1">
            {{/if}}
            {{_ "learning-goal.level2"}}
        </label>
        <label id="learningGoalLevel2"
               class="col-xs-6 col-sm-2 btn btn-raised {{#if isLearningGoalLevelChecked
                                                             2}}btn-primary{{else}}btn-white{{/if}} {{#if
                       isLearningGoalLevel 2}}active{{/if}}"
               data-lvl="2">
            {{#if isLearningGoalLevel 2}}
                <input type="radio" name="learningGoalLevel" value="2" checked tabindex="4">
            {{else}}
                <input type="radio" name="learningGoalLevel" value="2">
            {{/if}}
            {{_ "learning-goal.level3"}}
        </label>
        <label id="learningGoalLevel3"
               class="col-xs-6 col-sm-2 btn btn-raised {{#if isLearningGoalLevelChecked
                                                             3}}btn-primary{{else}}btn-white{{/if}} {{#if
                       isLearningGoalLevel 3}}active{{/if}}"
               data-lvl="3">
            {{#if isLearningGoalLevel 3}}
                <input type="radio" name="learningGoalLevel" value="3" checked tabindex="4">
            {{else}}
                <input type="radio" name="learningGoalLevel" value="3">
            {{/if}}
            {{_ "learning-goal.level4"}}
        </label>
        <label id="learningGoalLevel4"
               class="col-xs-6 col-sm-2 btn btn-raised {{#if isLearningGoalLevelChecked
                                                             4}}btn-primary{{else}}btn-white{{/if}} {{#if
                       isLearningGoalLevel 4}}active{{/if}}"
               data-lvl="4">
            {{#if isLearningGoalLevel 4}}
                <input type="radio" name="learningGoalLevel" value="4" checked tabindex="4">
            {{else}}
                <input type="radio" name="learningGoalLevel" value="4">
            {{/if}}
            {{_ "learning-goal.level5"}}
        </label>
        <label id="learningGoalLevel5"
               class="col-xs-6 col-sm-2 btn btn-raised {{#if isLearningGoalLevelChecked
                                                             5}}btn-primary{{else}}btn-white{{/if}} {{#if
                       isLearningGoalLevel 5}}active{{/if}}"
               data-lvl="5">
            {{#if isLearningGoalLevel 5}}
                <input type="radio" name="learningGoalLevel" value="5" checked tabindex="4">
            {{else}}
                <input type="radio" name="learningGoalLevel" value="5">
            {{/if}}
            {{_ "learning-goal.level6"}}
        </label>
    </div>
</template>

<template name="contentEditor">
    <form>
        <textarea id="contentEditor" name="content" placeholder="{{getPlaceholder}}" data-provide="markdown" rows="10"
                  tabindex="5">{{front}}</textarea>
    </form>
</template>

<template name="subjectEditor">
    <form class="subjectEditor {{#if isCardType 2 5}}col-xs-8 col-sm-9{{/if}}">
        {{#if isActiveRoute 'newCard'}}
            <input class="form-control editorBackground" id="subjectEditor" name="content" value="{{getSubject}}"
                   tabindex="1" autofocus {{isDisabled}}>
        {{else}}
            <input class="form-control editorBackground" id="subjectEditor" name="content" value="{{getSubject}}"
                   tabindex="1" autofocus {{isDisabled}}>
        {{/if}}
    </form>
    {{#if isCardType 2 5}}
        <button class="btn btn-raised btn-success col-xs-4 col-sm-3 subjectEditorButton" data-toggle="modal"
                data-target="#showSelectLearningUnitModal">{{_ "learningUnit.choose"}}</button>
    {{/if}}
</template>


<template name="selectLearningUnit">
    <div class="modal fade" id="showSelectLearningUnitModal" role="dialog">
        <div class="modal-dialog" aria-labelledby="showSelectLearningUnitTitle">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                    <h4 id="showSelectLearningUnitTitle" class="modal-title">{{_ "learningUnit.title"}}</h4>
                    <div class="modal-body">
                        <div class="form-horizontal">
                            <div class="form-group">
                                <br>
                                <button id="noLearningUnit" class="btn btn-raised btn-default">{{_
                                        "learningUnit.none"}}</button>
                                <hr>
                                <h5>{{_ "learningUnit.belongsTo"}}</h5>
                                {{> cardsetList}}
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</template>

<template name="btnCard">
    <div class="col-xs-12 col-sm-9 col-md-6 editorButtonGroup">
        <div class="actionButtons editorElement">
            <br>
            <button id="cardSave"
                    class="btn btn-success btn-raised saveFirst col-xs-12 col-sm-4" {{disableIfOffline}} tabindex="13">
                {{_ "savecard"}}
            </button>
            <button id="cardSaveReturn"
                    class="btn btn-default btn-raised save col-xs-12 col-sm-4" {{disableIfOffline}} tabindex="14">
                {{_ "savecardReturn"}}
            </button>
            <button id="cardCancel" class="btn btn-danger btn-raised cancel col-xs-12 col-sm-3 pull-right"
                    tabindex="15" data-toggle="modal"
                    data-target="#cancelEditModal">{{_
                    "declinecard"}}</button>
        </div>
    </div>
    {{#if isEditMode}}
        {{#if isCardsetOwner this.cardset_id}}
            <div class="col-xs-12 col-sm-3 col-md-6 editorButtonGroup">
                <div class="actionButtons editorElement">
                    <br>
                    <button id="cardDelete"
                            class="btn btn-danger btn-raised col-xs-12 col-md-3 pull-right" {{isDisabled}}
                            tabindex="16" data-toggle="modal"
                            data-target="#deleteCardModal">{{_
                            "deletecard"}}</button>
                </div>
            </div>
        {{/if}}
    {{/if}}
</template>

<template name="flashcards">
    {{> cardHint}}
    {{> copyCard}}
    <div class="{{#if isCardset}}{{#unless fullscreenActive}}col-md-9{{/unless}}{{/if}} flip-container"
         id="set-details-region">
        <div>
            <div id="cardCarousel" class="carousel slide" data-interval="false">
                <div class="carousel-inner">
                    {{#each getCards}}
                        <div class="item {{#if cardActive @index}}active{{/if}}" data-id="{{_id}}">
                            <div class="{{#unless isCardType
                                                  5}}box flashcard{{else}}box-static flashcard-static{{/unless}}">
                                <div class="cardHeader {{getCardBackground difficulty cardType backgroundStyle}}-header"
                                     style="{{#if isHintPreview}}display: none{{/if}}{{#if
                                             isLecturePreview}}display: none{{/if}}">
                                    <div class="leftHeader">
                                        {{#if isCardEditor this.cardset_id}}
                                            {{#if isCardset}}
                                                <a id="editCard" href="/cardset/{{cardset_id}}/editcard/{{_id}}"
                                                   data-id="{{_id}}"
                                                   data-type="cardNavigation">
                                                    <span class="glyphicon glyphicon-pencil card-button"
                                                          data-id="{{_id}}"
                                                          data-type="cardNavigation"></span>
                                                </a>
                                            {{/if}}
                                        {{/if}}
                                        {{#unless isEditMode}}
                                            {{#if isCardType 0}}
                                                {{#if lecture}}
                                                    <a href="#" id="showLecture">
                                                    <span class="glyphicon glyphicon glyphicon-education card-button"
                                                          data-type="cardNavigation"
                                                          data-toggle="collapse"
                                                          data-target="#collapseLecture-{{_id}}"></span>
                                                    </a>
                                                {{/if}}
                                            {{/if}}
                                            {{#if isCardType 0 2 4}}
                                                {{#if hint}}
                                                    <a href="#" id="showHint">
                                                    <span class="glyphicon glyphicon-info-sign card-button"
                                                          data-id="{{_id}}" data-type="cardNavigation"
                                                          data-toggle="modal"
                                                          data-target="#showHintModal"></span>
                                                    </a>
                                                {{/if}}
                                            {{/if}}
                                            {{#if isCardType 1}}
                                                <a href="#" id="showLecture">
                                                    <span class="glyphicon glyphicon glyphicon-book card-button"
                                                          data-type="cardNavigation"
                                                          data-toggle="collapse"
                                                          data-target="#collapseLecture-{{_id}}"></span>
                                                </a>
                                            {{/if}}
                                        {{/unless}}
                                    </div>
                                    <div class="cardNumber">
                                        {{#if isCardset}}
                                            {{#unless hasCardsetPermission cardset_id}}
                                                <strong>{{_ "preview"}}:</strong>
                                                {{cardsIndex @index}} {{_ "of"}} {{getCardsetCount false}} <br>
                                            {{else}}
                                                {{_ "admin.card.header"}} {{cardsIndex @index}} {{_
                                                    "of"}} {{getCardsetCount true}}<br>
                                            {{/unless}}
                                        {{/if}}
                                        {{#if isBox}}
                                            {{_ "leitner_status" count=countLeitner}}
                                            <br>
                                        {{/if}}
                                        <span><strong>{{getCardsetName}}</strong>
                                            {{#unless isCardType 2}}
                                                | {{_ "cardType"}}: <strong>{{getCardTypeName}}</strong> (<span
                                                    class="cardFrontHeader"
                                                    style="display: {{#if isCardType 1}}{{#if
                                                            reversedViewOrder}}none{{/if}}{{/if}}">{{#if isCardType
                                                                                                         0}}{{_
                                                    "card.cardType0.front"}}{{/if}}{{#if isCardType 1}}{{_
                                                    "card.cardType1.name"}}{{/if}}{{#if isCardType 2}}{{_
                                                    "card.cardType2.name"}}{{/if}}{{#if isCardType 3}}{{_
                                                    "card.cardType3.name"}}{{/if}}{{#if isCardType 4}}{{_
                                                    "card.cardType4.front"}}{{/if}}{{#if isCardType 5}}{{_
                                                    "card.cardType5.front"}}{{/if}})</span><span
                                                    class="cardBackHeader"
                                                    style="display: {{#if isCardType 1}}{{#unless
                                                            reversedViewOrder}}none{{/unless}}{{else}}none{{/if}}">{{#if
                                                    isCardType 0}}{{_ "card.cardType0.back"}}{{/if}}{{#if isCardType
                                                                                                          1}}{{_
                                                    "card.cardType1.name"}}{{/if}}{{#if isCardType 2}}{{_
                                                    "card.cardType2.back"}}{{/if}}{{#if isCardType 3}}{{_
                                                    "card.cardType3.back"}}{{/if}}{{#if isCardType 4}}{{_
                                                    "card.cardType4.back"}}{{/if}})</span>{{/unless}}</span><br>
                                        {{#unless isCardType 2}}{{_ "difficulty"}}:{{/unless}}
                                        <strong>{{getDifficultyName}}</strong>
                                        {{#if isCardType 2}}
                                            <span class="cardBackHeader"
                                                  style="display: {{#if isCardType 1}}{{#unless
                                                          reversedViewOrder}}none{{/unless}}{{else}}none{{/if}}">
                                            ({{_ "card.cardType2.back"}})
                                            </span>
                                        {{/if}}
                                        {{#unless isCardType 1 2 3}}
                                            | {{_ "learning-goal.name"}}:
                                            <strong>{{getLearningGoalName}}</strong>
                                        {{/unless}}
                                    </div>
                                    {{#unless isCardType 2}}
                                        <div id="clicktoflip" class="clicktoflip">
                                            <img id="iconfront" class="cardside cardfront-symbol"
                                                 src="/img/icon_front.png">
                                            <img id="iconback" class="cardside cardback-symbol"
                                                 src="/img/icon_back.png"
                                                 style="display: none;">
                                            <span class="hidden-xs">{{_ "turn"}}</span>
                                        </div>
                                    {{/unless}}
                                    {{#unless isCardType 5}}
                                        <span id="swapOrder" data-type="cardNavigation">
                                                <span class="material-icons card-button {{#if
                                                        reversedViewOrder}}pressed{{/if}}"
                                                      data-type="cardNavigation">swap_vert</span>
                                    </span>
                                    {{/unless}}
                                    <span id="toggleFullscreen"
                                          class="fullscreen"
                                          data-type="cardNavigation">
                                                <span class="glyphicon glyphicon-fullscreen card-button {{#if
                                                        fullscreenActive}}pressed{{/if}}"
                                                      data-type="cardNavigation"></span>
                                    </span>
                                    <br>
                                    <div class="leftHeader2">
                                        {{#if canCopyCard this.cardset_id}}
                                            {{#if isCardset}}
                                                <a href="#" id="copyCard" data-id="{{_id}}" data-type="cardNavigation"
                                                   data-toggle="modal"
                                                   data-target="#showCopyCardModal">
                                                    <span class="glyphicon glyphicon-duplicate card-button"
                                                          data-id="{{_id}}"
                                                          data-type="cardNavigation"></span>
                                                </a>
                                            {{/if}}
                                        {{/if}}
                                    </div>
                                    <h3>{{subject}}</h3>
                                </div>
                                <div class="cardContent {{#if
                                        isHintPreview}}hintContent{{/if}}{{#if
                                        isLecturePreview}}lectureContent{{/if}} centered cardfront {{#unless
                                        isHintPreview}}{{#unless
                                        isLecturePreview}}{{getCardBackground
                                        difficulty cardType
                                        backgroundStyle}}{{/unless}}{{/unless}} detailfront{{@index}}"
                                     style="display: {{#if isCardType 1}}{{#if
                                             reversedViewOrder}}none{{/if}}{{/if}}">
                                    {{#if isEditMode}}
                                        {{#if isFrontPreview}}
                                            <span class="{{#if gotFront}}{{#if isCentered
                                                                               0}}center-align{{/if}}{{else}}placeholder{{/if}}">
                                                {{#if gotFront}}
                                                    {{#mathjax}}{{front}}{{/mathjax}}
                                                {{else}}
                                                    {{getPlaceholder 0}}
                                                {{/if}}
                                            </span>
                                        {{/if}}
                                        {{#if isHintPreview}}
                                            {{> cardHintContent}}
                                        {{/if}}
                                        {{#if isLecturePreview}}
                                            <span class="{{#if gotLecture}}{{#if isCentered
                                                                                 3}}center-align{{/if}}{{else}}placeholder{{/if}}">
                                                {{#if gotLecture}}
                                                    {{#mathjax}}{{lecture}}{{/mathjax}}
                                                {{else}}
                                                    {{getPlaceholder 3}}
                                                {{/if}}
                                            </span>
                                        {{/if}}
                                    {{else}}
                                        <span class="{{#if gotFront}}{{#if isCentered
                                                                           0}}center-align{{/if}}{{else}}placeholder{{/if}}">
                                            {{#if gotFront}}
                                                {{#mathjax}}{{front}}{{/mathjax}}
                                            {{else}}
                                                {{getPlaceholder 0}}
                                            {{/if}}
                                        </span>
                                    {{/if}}
                                </div>
                                <div class="cardContent centered cardback {{getCardBackground
                                        difficulty cardType backgroundStyle}} detailback{{@index}}"
                                     style="display: {{#if isCardType 1}}{{#unless
                                             reversedViewOrder}}none{{/unless}}{{else}}none{{/if}}">
                                    <span class="{{#if gotBack}}{{#if isCentered
                                                                      1}}center-align{{/if}}{{else}}placeholder{{/if}}">
                                        {{#if gotBack}}
                                            {{#mathjax}}{{back}}{{/mathjax}}
                                        {{else}}
                                            {{getPlaceholder 1}}
                                        {{/if}}
                                    </span>
                                </div>
                                {{#unless isCardType 2}}
                                    <div class="collapsed collapse"
                                         id="collapseLecture-{{_id}}" style="{{#if isEditMode}}display: none{{/if}}">
                                        <div class="cardContent {{#if isCardType
                                                                      1}}cardContentDictionary{{/if}} centered cardlecture {{#if
                                                isCardType 0}}lectureContent{{/if}} detaillecture{{@index}}">

                                            {{#if isCardType 0}}
                                                <span class="{{#if gotLecture}}{{#if isCentered
                                                                                     3}}center-align{{/if}}{{else}}placeholder{{/if}}">
                                                    {{#if gotLecture}}
                                                        {{#mathjax}}{{lecture}}{{/mathjax}}
                                                    {{else}}
                                                        {{getPlaceholder 3}}
                                                    {{/if}}
                                                </span>
                                            {{/if}}
                                            {{#if isCardType 1}}
                                                <iframe class="dictionaryFrame"
                                                        src="https://dict.tu-chemnitz.de/embed" frameborder="0"
                                                        data-type="cardNavigation">
                                                </iframe>
                                            {{/if}}
                                        </div>
                                    </div>
                                {{/unless}}
                            </div>
                        </div>
                    {{/each}}
                </div>
                {{#if isCardset}}
                    {{#unless cardCountOne}}
                        <a id="leftCarouselControl" class="left carousel-control" href="#cardCarousel"
                           data-slide="prev">
                            <span class="icon-prev"></span>
                        </a>
                        <a id="rightCarouselControl" class="right carousel-control" href="#cardCarousel"
                           data-slide="next">
                            <span class="icon-next"></span>
                        </a>
                    {{/unless}}
                {{/if}}
            </div>
        </div>
    </div>
</template>

<template name="flashcardsEmpty">
    <div class="{{#if isActiveRoute 'cardsetdetailsid'}}col-md-9{{/if}} flip-container" id="set-details-region">
        <div>
            <div id="cardCarousel" class="carousel slide" data-interval="false">
                <div class="carousel-inner">
                    <div class="item active">
                        <div class="box flashcard emptyCard">
                            {{#if isActiveRoute 'cardsetdetailsid'}}
                                <h4>{{_ "nocards"}}</h4>
                            {{/if}}
                            {{#if isActiveRoute 'box'}}
                                <h4>{{_ "learnedEverything"}}</h4>
                            {{/if}}
                            {{#if isActiveRoute 'memo'}}
                                <h4>{{_ "memo-empty.text"}}</h4>
                            {{/if}}
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</template>

<template name="flashcardsEnd">
    <div class="{{#if isActiveRoute 'cardsetdetailsid'}}col-md-9{{/if}} flip-container" id="set-details-region">
        <div>
            <div id="cardCarousel" class="carousel slide" data-interval="false">
                <div class="carousel-inner">
                    <div class="item active">
                        <div class="box flashcard emptyCard">
                            {{#if isActiveRoute 'box'}}
                                <h4>{{getNextCardTime}}</h4>
                            {{/if}}
                            {{#if isActiveRoute 'memo'}}
                                <h4>{{_ "memo-endscreen.text"}}</h4>
                            {{/if}}
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</template>

<template name="cardHintContent">
    <div class="modal-header">
        {{#unless isHintPreview}}
            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
        {{/unless}}
        <h4 id="showHintTitle" class="modal-title">{{getSubject}}: {{#if isCardType 0}}{{_
                "card.cardType0.hint"}}{{/if}}{{#if isCardType 2}}{{_
                "card.cardType2.hint"}}{{/if}}{{#if isCardType 4}}{{_
                "card.cardType4.hint"}}{{/if}}</h4>
    </div>
    <div class="modal-body">
        <div class="form-horizontal">
            <div class="form-group">
                <div class="col-md-12 {{#unless gotHint}}placeholder{{/unless}}">
                                <span class="{{#if gotHint}}{{#if isCentered}}center-align{{/if}}{{/if}}">
                                    {{#if gotHint}}
                                        {{#mathjax}}{{getHint}}{{/mathjax}}
                                    {{else}}
                                        {{getPlaceholder}}
                                    {{/if}}
                                </span>
                </div>
            </div>
        </div>
    </div>
</template>

<template name="cardHint">
    <div class="modal fade" id="showHintModal" role="dialog">
        <div class="modal-dialog" aria-labelledby="showHintTitle">
            <div class="modal-content hintContent">
                {{> cardHintContent}}
            </div>
        </div>
    </div>
</template>

<template name="copyCard">
    <div class="modal fade" id="showCopyCardModal" role="dialog">
        <div class="modal-dialog" aria-labelledby="showHintTitle">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                    <h4 id="showHintTitle" class="modal-title">{{_ "copyCardTitle"}}</h4>
                </div>
                <div class="modal-body">
                    <div class="form-horizontal">
                        <div class="form-group">
                            <div class="col-md-12">
                                {{_ "copyCardText"}}
                                <br>
                                <br>
                                <table class="table table-hover table-bordered cardListSubject">
                                    <thead>
                                    <tr>
                                        <th>
                                            <span>{{_ "navbar-collapse.carddecks"}}</span>
                                        </th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    {{#each cardsetList}}
                                        <tr>
                                            <td class="copyCardset" data-id="{{this._id}}">
                                                <a href="#" data-id="{{this._id}}">
                                                    {{this.name}}
                                                </a>
                                            </td>
                                        </tr>
                                    {{/each}}
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</template>

<template name="cancelEditForm">
    <div class="modal fade" id="cancelEditModal" tabindex="-1" role="dialog"
         aria-labelledby="deleteCardsTitle">
        <div class="modal-dialog">
            <div class="modal-content modal-content-for-buttons">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                    <h4 id="cancelEditTitle" class="modal-title">{{_ "modal-dialog.cancelEditCardTitle"}}</h4>
                </div>
                <div class="modal-body">
                    {{_ "modal-dialog.cancelEditCard"}}
                    <button id="cancelEditConfirm" class="btn btn-raised btn-danger btn-block col-xs-12 col-sm-3">{{_
                            "modal-dialog.cancelEditCardTitle"}}</button>
                    <button id="cancelEditDismiss" class="btn btn-raised btn-default btn-block col-xs-12 col-sm-3"
                            data-dismiss="modal">{{_
                            "modal-dialog.cancel"}}</button>
                </div>
            </div>
            <!-- /.modal-content -->
        </div>
        <!-- /.modal-dialog -->
    </div>
    <!-- /.modal -->
</template>

<template name="deleteCardForm">
    <div class="modal fade" id="deleteCardModal" tabindex="-1" role="dialog"
         aria-labelledby="deleteCardTitle">
        <div class="modal-dialog">
            <div class="modal-content modal-content-for-buttons">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                    <h4 id="deleteCardTitle" class="modal-title">{{_ "deletecard"}}</h4>
                </div>
                <div class="modal-body">
                    {{_ "modal-dialog.deleteCard"}}
                    <button id="deleteCardConfirm" class="btn btn-raised btn-danger btn-block col-xs-12 col-sm-3">{{_
                            "deleteCard"}}</button>
                    <button id="deleteCardDismiss" class="btn btn-raised btn-default btn-block col-xs-12 col-sm-3"
                            data-dismiss="modal">{{_
                            "modal-dialog.cancel"}}</button>
                </div>
            </div>
            <!-- /.modal-content -->
        </div>
        <!-- /.modal-dialog -->
    </div>
    <!-- /.modal -->
</template>