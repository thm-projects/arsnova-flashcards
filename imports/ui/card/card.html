<template name="newCard">
    {{#if isInRole 'firstLogin'}}
        {{> first_login_content_only}}
    {{else}}
        {{#if isInRole 'blocked'}}
            {{> access_denied_content_only}}
        {{else}}
            {{#if isOwnerCard}}
                <div class="container">
                    <div class="col-md-12">
                        <h3 style="margin-bottom:20px">{{_ "newcard"}}</h3>
                    </div>
                    {{> editor}}
                </div>
            {{else}}
                <h4>{{_ "permission"}}</h4>
            {{/if}}
        {{/if}}
    {{/if}}
</template>

<template name="editCard">
    {{#if isInRole 'firstLogin'}}
        {{> first_login_content_only}}
    {{else}}
        {{#if isInRole 'blocked'}}
            {{> access_denied_content_only}}
        {{else}}
            {{#if isOwnerCard}}
                <div class="container">
                    <div class="col-md-12">
                        <h3 style="margin-bottom:20px">{{_ "editcard"}}</h3>
                    </div>
                    {{> editor}}
                </div>
            {{else}}
                <h4>{{_ "permission"}}</h4>
            {{/if}}
        {{/if}}
    {{/if}}
</template>

<template name="editor">
    <div id="title" class="col-md-12 cardtext">
        <h5>{{_ "title"}}</h5>
        {{> titleEditor}}
    </div>
    <div id="difficulty" class="col-md-6">
        <h5>{{_ "difficulty"}}</h5>
        {{> difficultyEditor}}
    </div>
    <div id="hinttext" class="col-md-6 cardtext" data-content="{{hint}}">
        <h5>{{_ "hint"}}</h5>
        {{> hintEditor}}
    </div>
    <div id="fronttext" class="col-md-6 cardtext" data-content="{{front}}">
        <h5>{{_ "frontside"}}</h5>
        {{> frontEditor}}
    </div>
    <div id="backtext" class="col-md-6 cardtext" data-content="{{back}}">
        <h5>{{_ "backside"}}</h5>
        {{> backEditor}}
    </div>
    {{> btnCard}}
</template>

<template name="difficultyEditor">
    <div id="difficultyGroup" class="btn-group" role="group" data-toggle="buttons">
        <label class="btn btn-default btn-sm {{#if isDifficultyChecked 0}}active{{/if}}">
            {{#if isDifficultyChecked 0}}
                <input type="radio" name="difficulty" value="0" checked>
            {{else}}
                <input type="radio" name="difficulty" value="0">
            {{/if}}
            {{_ "difficulty0"}}
        </label>
        <label class="btn btn-default btn-info btn-sm {{#if isDifficultyChecked 1}}active{{/if}}">
            {{#if isDifficultyChecked 1}}
                <input type="radio" name="difficulty" value="1" checked>
            {{else}}
                <input type="radio" name="difficulty" value="1">
            {{/if}}

            {{_ "difficulty1"}}
        </label>
        <label class="btn btn-default btn-success btn-sm {{#if isDifficultyChecked 2}}active{{/if}}">
            {{#if isDifficultyChecked 2}}
                <input type="radio" name="difficulty" value="2" checked>
            {{else}}
                <input type="radio" name="difficulty" value="2">
            {{/if}}
            {{_ "difficulty2"}}
        </label>
        <label class="btn btn-default btn-danger btn-sm {{#if isDifficultyChecked 3}}active{{/if}}">
            {{#if isDifficultyChecked 3}}
                <input type="radio" name="difficulty" value="3" checked>
            {{else}}
                <input type="radio" name="difficulty" value="3">
            {{/if}}
            {{_ "difficulty3"}}
        </label>
    </div>
</template>

<template name="frontEditor">
    <form>
        <textarea id="frontEditor" name="content" data-provide="markdown" rows="10">{{front}}</textarea>
        <div id="frontTextFooter">{{#mathjax}}{{getFront}}{{/mathjax}}</div>
    </form>
    <span id="helpNewFronttext" class="help-block fronttext"></span>
</template>

<template name="backEditor">
    <form>
        <textarea id="backEditor" name="content" data-provide="markdown" rows="10">{{back}}</textarea>
        <div id="backTextFooter">{{#mathjax}}{{getBack}}{{/mathjax}}</div>
    </form>
    <span id="helpNewBacktext" class="help-block backtext"></span>
</template>

<template name="hintEditor">
    <form>
        <textarea id="hintEditor" name="content" data-provide="markdown" rows="5">{{hint}}</textarea>
        <div id="hintTextFooter">{{#mathjax}}{{getHint}}{{/mathjax}}</div>
    </form>
    <span id="helpNewHinttext" class="help-block hinttext"></span>
</template>

<template name="titleEditor">
    <form>
        <input class="form-control" id="titleEditor" name="content" value="{{title}}">
    </form>
    <span id="helpNewTitletext" class="help-block title"></span>
</template>

<template name="btnCard">
    <div class="col-md-12">
        <div class="btn-group btn-group-raised btn-group-justified" role="group" aria-label="...">
            {{#if isEditMode}}
                <div id="changeDeleteButton" class="btn-group" role="group">
                    <button id="cardDelete" class="btn btn-danger btn-large">{{_ "deletecard"}}</button>
                </div>
            {{/if}}
            <div class="btn-group btn-group-raised" role="group">
                <button id="cardCancel" class="btn btn-default btn-large cancel"
                        onclick="history.go(-1)">{{_ "declinecard"}}</button>
            </div>
            <div class="btn-group btn-group-raised" role="group">
                <button id="cardSave" class="btn btn-success btn-large save" {{disableIfOffline}}>
                    {{_ "savecard"}}
                </button>
            </div>
        </div>
    </div>
</template>
