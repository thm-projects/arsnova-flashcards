<template name="newCard">
    {{#if isInRole 'firstLogin'}}
        {{> first_login_content_only}}
    {{else}}
        {{#if isInRole 'blocked'}}
            {{> access_denied_content_only}}
        {{else}}
            {{#if isCardsetOwner this._id}}
                {{> editor}}
            {{else}}
                <h4>{{_ "permission"}}</h4>
            {{/if}}
        {{/if}}
    {{/if}}
</template>

<template name="editCard">
    {{#if isInRole 'firstLogin'}}
        {{> first_login_content_only}}
    {{else}}
        {{#if isInRole 'blocked'}}
            {{> access_denied_content_only}}
        {{else}}
            {{#if isEditor}}
                {{> editor}}
            {{else}}
                <h4>{{_ "permission"}}</h4>
            {{/if}}
        {{/if}}
    {{/if}}
</template>

<template name="editor">
    {{getContent}}
    <div class="row firstEditorRow editorElement">
        <div id="cardType" class="col-md-6 cardtext editorElement">
            <h5>{{_ "cardType"}}</h5>
            {{> cardType}}
        </div>
        <div id="difficulty" class="col-md-6 cardtext editorElement">
            {{#unless isCardType 2}}
                <h5>{{_ "difficulty"}}</h5>
            {{else}}
                <h5>{{_ "difficultyNotes"}}</h5>
            {{/unless}}
            {{> difficultyEditor}}
        </div>
    </div>
    <div class="row">
        <div id="subject" class="col-md-6 cardtext editorElement">
            <h5>{{_ "cardsubject"}}</h5>
            {{> subjectEditor}}
        </div>
        <div id="learningGoalLevel" class="col-md-6 cardtext editorElement">
            {{#unless isCardType 1}}
                {{#unless isCardType 2}}
                    {{#unless isCardType 3}}
                        <h5>{{_ "learning-goal.name"}}</h5>
                        {{> learningGoalLevel}}
                    {{/unless}}
                {{/unless}}
            {{/unless}}
        </div>
    </div>
    <div class="row">
        <div class="col-xs-12 {{#unless fullscreenActive}}col-lg-6{{/unless}}">
            <h5 class="editorElement editorHeader">{{_ "content"}}</h5>
            <div class="btn-group col-xs-12 editorNavigation cardtext editorToolbar" role="group">
                <button id="editFront" type="button"
                        class="btn btn-primary btn-raised col-xs-12 {{#if isCardType 0}}col-sm-3{{else}}{{#if isCardType
                                                                                                              2
                                                                                                              4}}col-sm-4{{else}}col-sm-6{{/if}}{{/if}}"
                        tabindex="5">{{getFrontTitle}}</button>
                <button id="editBack" type="button"
                        class="btn btn-default btn-raised col-xs-12 {{#if isCardType 0}}col-sm-3{{else}}{{#if isCardType
                                                                                                              2
                                                                                                              4}}col-sm-4{{else}}col-sm-6{{/if}}{{/if}}"
                        tabindex="7">{{getBackTitle}}</button>
                {{#if isCardType 0}}
                    <button id="editLecture" type="button" class="btn btn-default btn-raised col-xs-12 col-sm-3"
                            tabindex="9">{{_
                            "lecture"}}</button>
                {{/if}}
                {{#unless isCardType 1}}
                    {{#unless isCardType 3}}
                        <button id="editHint" type="button"
                                class="btn btn-default btn-raised col-xs-12 {{#if isCardType
                                                                                  0}}col-sm-3{{else}}col-sm-4{{/if}}"
                                tabindex="11">{{#if isCardType 0}}{{_
                                "hint"}}{{/if}}{{#if isCardType 2}}{{_
                                "cardType2Hint"}}{{/if}}{{#if isCardType 4}}{{_
                                "cardType4Hint"}}{{/if}}</button>
                    {{/unless}}
                {{/unless}}
            </div>
            <div id="editor" class="cardtext editorToolbar" data-content="{{front}}">
                {{> contentEditor}}
            </div>
        </div>
        {{isTextCentered}}
        <div id="preview" class="col-xs-12 {{#unless fullscreenActive}}col-lg-6{{/unless}} cardtext">
            <h5 class="editorElement">{{_ "previewEdit"}}</h5>
            {{> flashcards cardset=this}}
        </div>
        <span class="col-xs-12 editorButtonGroup">
            {{> btnCard}}
        </span>
    </div>
</template>

<template name="cardType">
    <div id="cardTypeGroup" class="form-group btn-group" role="group" data-toggle="buttons">
        <label id="cardType2" class="col-xs-6 col-sm-2 btn btn-default btn-white {{#if isCardType 2}}active{{/if}}"
               data-type="2">
            {{#if isCardType 2}}
                <input type="radio" id="tabFocus" name="cardType" value="2" checked tabindex="2" data-type="2">
            {{else}}
                <input type="radio" name="cardType" value="2" data-type="2">
            {{/if}}
            {{_ "cardType2"}}
        </label>
        <label id="cardType3" class="col-xs-6 col-sm-3 btn btn-default btn-white {{#if isCardType 3}}active{{/if}}"
               data-type="3">
            {{#if isCardType 3}}
                <input type="radio" id="tabFocus" name="cardType" value="3" checked tabindex="2" data-type="3">
            {{else}}
                <input type="radio" name="cardType" value="3" data-type="3">
            {{/if}}
            {{_ "cardType3"}}
        </label>
        <label id="cardType4" class="col-xs-6 col-sm-3 btn btn-default btn-white {{#if isCardType 4}}active{{/if}}"
               data-type="4">
            {{#if isCardType 4}}
                <input type="radio" id="tabFocus" name="cardType" value="4" checked tabindex="2" data-type="4"
                       autofocus>
            {{else}}
                <input type="radio" name="cardType" value="4" data-type="4">
            {{/if}}
            {{_ "cardType4"}}
        </label>
        <label id="cardType0" class="col-xs-6 col-sm-2 btn btn-default btn-white {{#if isCardType 0}}active{{/if}}"
               data-type="0">
            {{#if isCardType 0}}
                <input type="radio" id="tabFocus" name="cardType" value="0" checked tabindex="2" data-type="0">
            {{else}}
                <input type="radio" name="cardType" value="0" data-type="0">
            {{/if}}
            {{_ "cardType0"}}
        </label>
        <label id="cardType1" class="col-xs-6 col-sm-2 btn btn-default btn-white {{#if isCardType 1}}active{{/if}}"
               data-type="1">
            {{#if isCardType 1}}
                <input type="radio" id="tabFocus" name="cardType" value="1" checked tabindex="2" data-type="1">
            {{else}}
                <input type="radio" name="cardType" value="1" data-type="1">
            {{/if}}

            {{_ "cardType1"}}
        </label>
    </div>
</template>

<template name="difficultyEditor">
    <div id="difficultyGroup" class="form-group btn-group" role="group" data-toggle="buttons">
        <label id="difficulty0"
               class="col-xs-6 col-sm-3 btn btn-default {{#if isCardType 2}}btn-orange{{else}}btn-white{{/if}} {{#if
                       isDifficultyChecked 0}}active{{/if}}"
               data-color="0">
            {{#if isDifficultyChecked 0}}
                <input type="radio" name="difficulty" value="0" checked tabindex="3">
            {{else}}
                <input type="radio" name="difficulty" value="0">
            {{/if}}
            {{#unless isCardType 2}}
                {{_ "difficulty0"}}
            {{else}}
                {{_ "difficultyNotes0"}}
            {{/unless}}
        </label>
        <label id="difficulty1"
               class="col-xs-6 col-sm-3 btn btn-default btn-info {{#if isDifficultyChecked 1}}active{{/if}}"
               data-color="1">
            {{#if isDifficultyChecked 1}}
                <input type="radio" name="difficulty" value="1" checked tabindex="3">
            {{else}}
                <input type="radio" name="difficulty" value="1">
            {{/if}}
            {{#unless isCardType 2}}
                {{_ "difficulty1"}}
            {{else}}
                {{_ "difficultyNotes1"}}
            {{/unless}}
        </label>
        <label id="difficulty2"
               class="col-xs-6 col-sm-3 btn btn-default btn-success {{#if isDifficultyChecked 2}}active{{/if}}"
               data-color="2">
            {{#if isDifficultyChecked 2}}
                <input type="radio" name="difficulty" value="2" checked tabindex="3">
            {{else}}
                <input type="radio" name="difficulty" value="2">
            {{/if}}
            {{#unless isCardType 2}}
                {{_ "difficulty2"}}
            {{else}}
                {{_ "difficultyNotes2"}}
            {{/unless}}
        </label>
        <label id="difficulty3"
               class="col-xs-6 col-sm-3 btn btn-default btn-danger {{#if isDifficultyChecked 3}}active{{/if}}"
               data-color="3">
            {{#if isDifficultyChecked 3}}
                <input type="radio" name="difficulty" value="3" checked tabindex="3">
            {{else}}
                <input type="radio" name="difficulty" value="3">
            {{/if}}
            {{#unless isCardType 2}}
                {{_ "difficulty3"}}
            {{else}}
                {{_ "difficultyNotes3"}}
            {{/unless}}
        </label>
    </div>
</template>

<template name="learningGoalLevel">
    <div id="learningGoalLevelGroup" class="form-group btn-group col-xs-12" role="group" data-toggle="buttons">
        <label id="learningGoalLevel0"
               class="col-xs-6 col-sm-2 btn btn-raised {{#if isLearningGoalLevelChecked
                                                             0}}btn-primary{{else}}btn-white{{/if}} {{#if
                       isLearningGoalLevel 0}}active{{/if}}"
               data-lvl="0">
            {{#if isLearningGoalLevel 0}}
                <input type="radio" name="learningGoalLevel" value="0" checked tabindex="4">
            {{else}}
                <input type="radio" name="learningGoalLevel" value="0">
            {{/if}}
            {{_ "learning-goal.level1"}}
        </label>
        <label id="learningGoalLevel1"
               class="col-xs-6 col-sm-2 btn btn-raised {{#if isLearningGoalLevelChecked
                                                             1}}btn-primary{{else}}btn-white{{/if}} {{#if
                       isLearningGoalLevel 1}}active{{/if}}"
               data-lvl="1">
            {{#if isLearningGoalLevel 1}}
                <input type="radio" name="learningGoalLevel" value="1" checked tabindex="4">
            {{else}}
                <input type="radio" name="learningGoalLevel" value="1">
            {{/if}}
            {{_ "learning-goal.level2"}}
        </label>
        <label id="learningGoalLevel2"
               class="col-xs-6 col-sm-2 btn btn-raised {{#if isLearningGoalLevelChecked
                                                             2}}btn-primary{{else}}btn-white{{/if}} {{#if
                       isLearningGoalLevel 2}}active{{/if}}"
               data-lvl="2">
            {{#if isLearningGoalLevel 2}}
                <input type="radio" name="learningGoalLevel" value="2" checked tabindex="4">
            {{else}}
                <input type="radio" name="learningGoalLevel" value="2">
            {{/if}}
            {{_ "learning-goal.level3"}}
        </label>
        <label id="learningGoalLevel3"
               class="col-xs-6 col-sm-2 btn btn-raised {{#if isLearningGoalLevelChecked
                                                             3}}btn-primary{{else}}btn-white{{/if}} {{#if
                       isLearningGoalLevel 3}}active{{/if}}"
               data-lvl="3">
            {{#if isLearningGoalLevel 3}}
                <input type="radio" name="learningGoalLevel" value="3" checked tabindex="4">
            {{else}}
                <input type="radio" name="learningGoalLevel" value="3">
            {{/if}}
            {{_ "learning-goal.level4"}}
        </label>
        <label id="learningGoalLevel4"
               class="col-xs-6 col-sm-2 btn btn-raised {{#if isLearningGoalLevelChecked
                                                             4}}btn-primary{{else}}btn-white{{/if}} {{#if
                       isLearningGoalLevel 4}}active{{/if}}"
               data-lvl="4">
            {{#if isLearningGoalLevel 4}}
                <input type="radio" name="learningGoalLevel" value="4" checked tabindex="4">
            {{else}}
                <input type="radio" name="learningGoalLevel" value="4">
            {{/if}}
            {{_ "learning-goal.level5"}}
        </label>
        <label id="learningGoalLevel5"
               class="col-xs-6 col-sm-2 btn btn-raised {{#if isLearningGoalLevelChecked
                                                             5}}btn-primary{{else}}btn-white{{/if}} {{#if
                       isLearningGoalLevel 5}}active{{/if}}"
               data-lvl="5">
            {{#if isLearningGoalLevel 5}}
                <input type="radio" name="learningGoalLevel" value="5" checked tabindex="4">
            {{else}}
                <input type="radio" name="learningGoalLevel" value="5">
            {{/if}}
            {{_ "learning-goal.level6"}}
        </label>
    </div>
</template>

<template name="contentEditor">
    <form>
        <textarea id="contentEditor" name="content" data-provide="markdown" rows="10" tabindex="5">{{front}}</textarea>
    </form>
</template>

<template name="subjectEditor">
    <form>
        {{#if isActiveRoute 'newCard'}}
            <input class="form-control editorBackground" id="subjectEditor" name="content" value="{{getSubject}}"
                   tabindex="1" autofocus>
        {{else}}
            <input class="form-control editorBackground" id="subjectEditor" name="content" value="{{subject}}"
                   tabindex="1" autofocus>
        {{/if}}
    </form>
</template>

<template name="btnCard">
    <div class="actionButtons editorElement">
        <br>
        <button id="cardSave"
                class="btn btn-success btn-raised saveFirst col-xs-12 col-sm-3" {{disableIfOffline}} tabindex="13">
            {{_ "savecard"}}
        </button>
        <button id="cardSaveReturn"
                class="btn btn-success btn-raised save col-xs-12 col-sm-3" {{disableIfOffline}} tabindex="14">
            {{_ "savecardReturn"}}
        </button>
        <button id="cardCancel" class="btn btn-danger btn-raised cancel col-xs-12 col-sm-2" tabindex="15">{{_
                "declinecard"}}</button>
        {{#if isEditMode}}
            {{#if isCardsetOwner this.cardset_id}}
                <button id="cardDelete"
                        class="btn btn-danger btn-raised pull-right col-xs-12 col-sm-2" {{isDisabled}}
                        tabindex="16">{{_
                        "deletecard"}}</button>
                <button id="cardDeleteConfirm" style="display: none;"
                        class="btn btn-warning btn-raised pull-right col-xs-12 col-sm-2">{{_ "confirmcard"}}</button>
            {{/if}}
        {{/if}}
    </div>
</template>

<template name="flashcards">
    {{> cardHint}}
    {{> copyCard}}
    <div class="{{#if isCardset}}{{#unless fullscreenActive}}col-md-9{{/unless}}{{/if}} flip-container"
         id="set-details-region">
        <div>
            <div id="cardCarousel" class="carousel slide" data-interval="false">
                <div class="carousel-inner">
                    {{#each getCards}}
                        <div class="item {{#if cardActive @index}}active{{/if}}" data-id="{{_id}}">
                            <div class="box flashcard">
                                <div class="cardHeader {{getCardBackground difficulty cardType}}-header"
                                     style="{{#if isHintPreview}}display: none{{/if}}">
                                    <div class="leftHeader">
                                        {{#if isCardEditor this.cardset_id}}
                                            {{#if isCardset}}
                                                <a id="editCard"
                                                   class="btn-editCard btn btn-raised btn-default btn-xs"
                                                   href="/cardset/{{cardset_id}}/editcard/{{_id}}" data-id="{{_id}}"
                                                   data-type="cardNavigation">
                                                    <i class="glyphicon glyphicon-pencil" data-id="{{_id}}"
                                                       data-type="cardNavigation"></i>
                                                </a>
                                            {{/if}}
                                        {{/if}}
                                        {{#unless isEditMode}}
                                            {{#unless isCardType 3}}
                                                {{#if isCardType 0}}
                                                    {{#if lecture}}
                                                        <a href="#" id="showLecture">
                                                    <span class="glyphicon glyphicon glyphicon-education"
                                                          data-type="cardNavigation"
                                                          data-toggle="collapse"
                                                          data-target="#collapseLecture-{{_id}}"></span>
                                                        </a>
                                                    {{/if}}
                                                {{/if}}
                                                {{#if isCardType 0 2 4}}
                                                    {{#if hint}}
                                                        <a href="#" id="showHint">
                                                    <span class="glyphicon glyphicon-info-sign"
                                                          data-id="{{_id}}" data-type="cardNavigation"
                                                          data-toggle="modal"
                                                          data-target="#showHintModal"></span>
                                                        </a>
                                                    {{/if}}
                                                {{/if}}
                                                {{#if isCardType 1}}
                                                    <a href="#" id="showLecture">
                                                    <span class="glyphicon glyphicon glyphicon-book"
                                                          data-type="cardNavigation"
                                                          data-toggle="collapse"
                                                          data-target="#collapseLecture-{{_id}}"></span>
                                                    </a>
                                                {{/if}}
                                            {{/unless}}
                                        {{/unless}}
                                    </div>
                                    <div class="cardNumber">
                                        {{#if isCardset}}
                                            {{#unless hasCardsetPermission cardset_id}}
                                                <strong>{{_ "preview"}}:</strong>
                                                {{cardsIndex @index}} {{_ "of"}} {{getCardsetCount false}} <br>
                                            {{else}}
                                                {{_ "admin.card.header"}} {{cardsIndex @index}} {{_
                                                    "of"}} {{getCardsetCount true}}<br>
                                            {{/unless}}
                                        {{/if}}
                                        {{#if isBox}}
                                            {{_ "leitner_status" count=countLeitner}}
                                            <br>
                                        {{/if}}
                                        <span><strong>{{getCardsetName}}</strong>
                                            {{#unless isCardType 2}}
                                                | {{_ "cardType"}}: <strong>{{getCardTypeName}}</strong> (<span
                                                    class="cardFrontHeader"
                                                    style="display: {{#if isCardType 1}}{{#if
                                                            reversedViewOrder}}none{{/if}}{{/if}}">{{#if
                                                    isCardType 2}}{{_ "cardType2"}}{{else}}{{#if
                                                    isCardType 3}}{{_ "cardType3"}}{{else}}{{#if
                                                    isCardType 4}}{{_ "frontsideCardType4"}}{{else}}{{_
                                                    "frontside"}}{{/if}}{{/if}}{{/if}})</span><span
                                                    class="cardBackHeader"
                                                    style="display: {{#if isCardType 1}}{{#unless
                                                            reversedViewOrder}}none{{/unless}}{{else}}none{{/if}}">{{#if
                                                    isCardType 2}}{{_ "backsideCardType2"}}{{else}}{{#if
                                                    isCardType 3}}{{_ "backsideCardType3"}}{{else}}{{#if
                                                    isCardType 4}}{{_ "backsideCardType4"}}{{else}}{{_
                                                    "backside"}}{{/if}}{{/if}}{{/if}})</span>{{/unless}}</span><br>
                                        {{#unless isCardType 2}}{{_ "difficulty"}}:{{/unless}}
                                        <strong>{{getDifficultyName}}</strong>
                                        {{#if isCardType 2}}
                                            <span class="cardBackHeader"
                                                  style="display: {{#if isCardType 1}}{{#unless
                                                          reversedViewOrder}}none{{/unless}}{{else}}none{{/if}}">
                                            ({{_ "backsideCardType2"}})
                                            </span>
                                        {{/if}}
                                        {{#unless isCardType 1 2 3}}
                                            | {{_ "learning-goal.name"}}:
                                            <strong>{{getLearningGoalName}}</strong>
                                        {{/unless}}
                                    </div>
                                    {{#unless isCardType 2}}
                                        <div id="clicktoflip" class="clicktoflip">
                                            <img id="iconfront" class="cardside cardfront-symbol"
                                                 src="/img/icon_front.png">
                                            <img id="iconback" class="cardside cardback-symbol"
                                                 src="/img/icon_back.png"
                                                 style="display: none;">
                                            <span class="hidden-xs">{{_ "turn"}}</span>
                                        </div>
                                    {{/unless}}
                                    <a href="#" id="swapOrder" class="{{#if
                                            reversedViewOrder}}swappedOrder{{/if}}" data-type="cardNavigation">
                                                <span class="material-icons"
                                                      data-type="cardNavigation">swap_vert</span>
                                    </a>
                                    <span id="toggleFullscreen"
                                          class="fullscreen"
                                          data-type="cardNavigation">
                                                <span class="glyphicon glyphicon-fullscreen"
                                                      data-type="cardNavigation"></span>
                                    </span>
                                    {{#if isCardType 2}}
                                        <span class="cardDate">
                                            {{getCardDate}}<br>
                                            {{getCardTime}}
                                        </span>
                                    {{/if}}
                                    <br>
                                    <div class="leftHeader2">
                                        {{#if canCopyCard this.cardset_id}}
                                            {{#if isCardset}}
                                                <a href="#" id="copyCard"
                                                   class="btn-editCard btn btn-raised btn-default btn-xs"
                                                   data-id="{{_id}}" data-type="cardNavigation" data-toggle="modal"
                                                   data-target="#showCopyCardModal">
                                                    <i class="glyphicon glyphicon-duplicate" data-id="{{_id}}"
                                                       data-type="cardNavigation"></i>
                                                </a>
                                            {{/if}}
                                        {{/if}}
                                    </div>
                                    <h3>{{subject}}</h3>
                                </div>
                                <div class="cardContent {{#if
                                        isHintPreview}}hintContent{{/if}} centered cardfront {{#unless
                                        isHintPreview}}{{#unless
                                        isLecturePreview}}{{getCardBackground
                                        difficulty cardType}}{{/unless}}{{/unless}} detailfront{{@index}}"
                                     style="display: {{#if isCardType 1}}{{#if
                                             reversedViewOrder}}none{{/if}}{{/if}}">
                                    {{#if isEditMode}}
                                        {{#if isFrontPreview}}
                                            <span class="{{#if isCentered 0}}center-align{{/if}}">
                                                {{#mathjax}}{{front}}{{/mathjax}}
                                            </span>
                                        {{/if}}
                                        {{#if isHintPreview}}
                                            {{> cardHintContent}}
                                        {{/if}}
                                        {{#if isLecturePreview}}
                                            <span class="{{#if isCentered 3}}center-align{{/if}}">
                                                {{#mathjax}}{{lecture}}{{/mathjax}}
                                            </span>
                                        {{/if}}
                                    {{else}}
                                        <span class="{{#if isCentered 0}}center-align{{/if}}">
                                            {{#mathjax}}{{front}}{{/mathjax}}
                                        </span>
                                    {{/if}}
                                </div>
                                <div class="cardContent centered cardback {{getCardBackground
                                        difficulty cardType}} detailback{{@index}}"
                                     style="display: {{#if isCardType 1}}{{#unless
                                             reversedViewOrder}}none{{/unless}}{{else}}none{{/if}}">
                                    <span class="{{#if isCentered 1}}center-align{{/if}}">
                                        {{#mathjax}}{{back}}{{/mathjax}}
                                    </span>
                                </div>
                                {{#unless isCardType 2}}
                                    <div class="collapsed collapse"
                                         id="collapseLecture-{{_id}}">
                                        <div class="cardContent {{#if isCardType
                                                                      1}}cardContentDictionary{{/if}} centered cardlecture detaillecture{{@index}}">

                                            {{#if isCardType 0}}
                                                <span class="{{#if isCentered 3}}center-align{{/if}}">
                                                    {{#mathjax}}{{lecture}}{{/mathjax}}
                                                </span>
                                            {{/if}}
                                            {{#if isCardType 1}}
                                                <iframe class="dictionaryFrame"
                                                        src="https://dict.tu-chemnitz.de/embed" frameborder="0"
                                                        data-type="cardNavigation">
                                                </iframe>
                                            {{/if}}
                                        </div>
                                    </div>
                                {{/unless}}
                            </div>
                        </div>
                    {{/each}}
                </div>
                {{#if isCardset}}
                    {{#unless cardCountOne}}
                        <a id="leftCarouselControl" class="left carousel-control" href="#cardCarousel"
                           data-slide="prev">
                            <span class="icon-prev"></span>
                        </a>
                        <a id="rightCarouselControl" class="right carousel-control" href="#cardCarousel"
                           data-slide="next">
                            <span class="icon-next"></span>
                        </a>
                    {{/unless}}
                {{/if}}
            </div>
        </div>
    </div>
</template>

<template name="flashcardsEmpty">
    <div class="{{#if isActiveRoute 'cardsetdetailsid'}}col-md-9{{/if}} flip-container" id="set-details-region">
        <div>
            <div id="cardCarousel" class="carousel slide" data-interval="false">
                <div class="carousel-inner">
                    <div class="item active">
                        <div class="box flashcard emptyCard">
                            {{#if isActiveRoute 'cardsetdetailsid'}}
                                <h4>{{_ "nocards"}}</h4>
                            {{/if}}
                            {{#if isActiveRoute 'box'}}
                                <h4>{{_ "learnedEverything"}}</h4>
                            {{/if}}
                            {{#if isActiveRoute 'memo'}}
                                <h4>{{_ "memo-empty.text"}}</h4>
                            {{/if}}
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</template>

<template name="flashcardsEnd">
    <div class="{{#if isActiveRoute 'cardsetdetailsid'}}col-md-9{{/if}} flip-container" id="set-details-region">
        <div>
            <div id="cardCarousel" class="carousel slide" data-interval="false">
                <div class="carousel-inner">
                    <div class="item active">
                        <div class="box flashcard emptyCard">
                            {{#if isActiveRoute 'box'}}
                                <h4>{{getNextCardTime}}</h4>
                            {{/if}}
                            {{#if isActiveRoute 'memo'}}
                                <h4>{{_ "memo-endscreen.text"}}</h4>
                            {{/if}}
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</template>

<template name="cardHintContent">
    <div class="modal-header">
        {{#unless isHintPreview}}
            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
        {{/unless}}
        <h4 id="showHintTitle" class="modal-title">{{getSubject}}: {{#if isCardType 0}}{{_
                "hint"}}{{/if}}{{#if isCardType 2}}{{_
                "cardType2Hint"}}{{/if}}{{#if isCardType 4}}{{_
                "cardType4Hint"}}{{/if}}</h4>
    </div>
    <div class="modal-body">
        <div class="form-horizontal">
            <div class="form-group">
                <div class="col-md-12">
                                <span class="{{#if isCentered}}center-align{{/if}}">
                                    {{#mathjax}}{{getHint}}{{/mathjax}}
                                </span>
                </div>
            </div>
        </div>
    </div>
</template>

<template name="cardHint">
    <div class="modal fade" id="showHintModal" role="dialog">
        <div class="modal-dialog" aria-labelledby="showHintTitle">
            <div class="modal-content hintContent">
                {{> cardHintContent}}
            </div>
        </div>
    </div>
</template>

<template name="copyCard">
    <div class="modal fade" id="showCopyCardModal" role="dialog">
        <div class="modal-dialog" aria-labelledby="showHintTitle">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                    <h4 id="showHintTitle" class="modal-title">{{_ "copyCardTitle"}}</h4>
                </div>
                <div class="modal-body">
                    <div class="form-horizontal">
                        <div class="form-group">
                            <div class="col-md-12">
                                {{_ "copyCardText"}}
                                <br>
                                <br>
                                <table class="table table-hover table-bordered cardListSubject">
                                    <thead>
                                    <tr>
                                        <th>
                                            <span>{{_ "navbar-collapse.carddecks"}}</span>
                                        </th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    {{#each cardsetList}}
                                        <tr>
                                            <td class="copyCardset" data-id="{{this._id}}">
                                                <a href="#" data-id="{{this._id}}">
                                                    {{this.name}}
                                                </a>
                                            </td>
                                        </tr>
                                    {{/each}}
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</template>
