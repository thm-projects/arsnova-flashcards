<template name="flashcardHeader">
    {{#if isEditModeOrPresentation}}
        {{> flashcardHeaderPresentation this}}
    {{else}}
        {{> flashcardHeaderDefault this}}
    {{/if}}
</template>

<template name="flashcardHeaderDefault">
    <div class="cardHeader {{getCardBackground difficulty cardType backgroundStyle}}-header"
         data-cardtype="{{cardType}}">
        {{> flashcardHeaderContentDefaultLeft this}}
        {{> flashcardHeaderContentCenter this}}
        {{> flashcardHeaderContentDefaultRight this}}
        <br>
        <h2 data-cardtype="{{cardType}}">
        {{> cardSubject this}}
        </h2>
    </div>
</template>

<template name="flashcardHeaderPresentation">
    <div class="cardHeader {{#if isHintPreview}}{{#if
            gotAlternativeHintStyle}}box-hint-alternative{{else}}box-hint{{/if}}{{else}}{{#if
            isLecturePreview}}box-lecture{{else}}{{getCardBackground difficulty cardType
                                                                     backgroundStyle}}{{/if}}{{/if}}-header"
         data-cardtype="{{cardType}}">
        {{> flashcardHeaderPresentationLeft this}}
        {{> flashcardHeaderContentCenter this}}
        {{#if isPresentation}}
            {{> flashcardHeaderPresentationRight this}}
        {{else}}
            {{> flashcardHeaderContentDefaultRight this}}
        {{/if}}
        <br>
        <h2 data-cardtype="{{cardType}}">
            {{> cardSubject this}}
        </h2>
    </div>
</template>

<template name="flashcardHeaderContentCenter">
    <div class="cardHeaderCenter cardHeaderFirstRow" data-cardtype="{{cardType}}">
        <strong data-cardtype="{{cardType}}">{{getCardsetName}}</strong><br>
        {{#if displaysSideInformation}}
            <span
                    class="cardFrontHeader cardHeaderSecondRow"
                    style="display: {{#if gotDictionary}}{{#if
                            reversedViewOrder}}none{{/if}}{{/if}}"
                    data-cardtype="{{cardType}}">{{_
                    "sidebar-nav.view"}}: {{getFrontTitle}}
                                                </span><span
                class="cardBackHeader cardHeaderSecondRow"
                style="display: {{#if gotDictionary}}{{#unless
                        reversedViewOrder}}none{{/unless}}{{else}}none{{/if}}"
                data-cardtype="{{cardType}}">{{_
                "sidebar-nav.view"}}: {{getBackTitle}}
                                                </span>
        {{/if}}
        {{#if displaysLearningGoalInformation}}
            <span class="cardHeaderSecondRow" data-cardtype="{{cardType}}">{{#unless
                    isEditModeOrPresentation}}{{#if
                    displaysSideInformation}}|{{/if}}{{/unless}}
                {{_ "learning-goal.cardName"}}: {{getLearningGoalName}}</span>
        {{/if}}
    </div>
</template>

<template name="flashcardHeaderPresentationLeft">
    <div class="leftHeader" data-cardtype="{{cardType}}">
        {{> presentationClock}}
        {{#unless isEditMode}}
            {{#if gotDictionary}}
                <a href="#" id="showLecture">
                    <img class="card-button showLectureImage showLectureImagePresentation"
                         data-type="cardNavigation"
                         data-toggle="collapse"
                         data-target="#collapseLecture-{{_id}}"
                         src="/img/beolingus.png">
                </a>
            {{/if}}
        {{/unless}}
    </div>
</template>

<template name="flashcardHeaderPresentationRight">
    <div class="cardNumber cardHeaderFirstRow" data-cardtype="{{cardType}}">
        {{#unless hasCardsetPermission cardset_id}}
            {{_ "preview"}}:
            {{cardsIndex this._id}} {{_ "of"}} {{getCardsetCount false}} <br>
        {{else}}
            {{_ "admin.card.header"}} {{cardsIndex this._id}} {{_
                "of"}} {{getCardsetCount true}}<br>
        {{/unless}}
    </div>
    <i class="card-button fa fa-list selectCard" data-id="{{this._id}}"></i>
    {{#if isDemo}}
        <span id="toggleFullscreen"
              class="fullscreen"
              data-type="cardNavigation" title="{{_ "card.tooltip.fullscreen"}}">
                                                <span class="glyphicon {{#if
                                                        isWorkloadFullscreen}}glyphicon-log-out{{else}}glyphicon-fullscreen{{/if}} card-button {{#if
                                                        fullscreenActive}}pressed{{/if}}"
                                                      data-type="cardNavigation"></span>
                                    </span>
    {{else}}
        <span class="glyphicon glyphicon-log-out card-button endPresentation"
              data-type="cardNavigation"
              title="{{_ "card.tooltip.endPresentation"}}"></span>
    {{/if}}
</template>

<template name="flashcardHeaderContentDefaultLeft">
    <div class="leftHeader" data-cardtype="{{cardType}}">
        {{#if canCopyCard this.cardset_id}}
            {{#if isCardset}}
                <a href="#" id="copyCard" data-id="{{_id}}" data-type="cardNavigation"
                   data-toggle="modal"
                   data-target="#showCopyCardModal">
                                                    <span class="glyphicon glyphicon-duplicate card-button"
                                                          data-id="{{_id}}"
                                                          data-type="cardNavigation"></span>
                </a>
            {{/if}}
        {{/if}}
        {{#unless isShuffledCardset}}
            {{#if isCardEditor this.cardset_id}}
                {{#if isCardset}}
                    <a id="editCard" href="/cardset/{{cardset_id}}/editcard/{{_id}}"
                       data-id="{{_id}}"
                       data-type="cardNavigation">
                                                    <span class="glyphicon glyphicon-pencil card-button"
                                                          data-id="{{_id}}"
                                                          data-type="cardNavigation"></span>
                    </a>
                {{/if}}
            {{/if}}
        {{/unless}}
        {{#if gotLecture}}
            <a href="#" id="showLecture">
                                                    <span class="glyphicon glyphicon glyphicon-education card-button"
                                                          data-type="cardNavigation"
                                                          data-toggle="collapse"
                                                          data-target="#collapseLecture-{{_id}}"></span>
            </a>
        {{/if}}
        {{#if gotHint}}
            <a href="#" id="showHint">
                                                    <span class="fa fa-book card-button"
                                                          data-id="{{_id}}" data-type="cardNavigation"
                                                          data-toggle="modal"
                                                          data-target="#showHintModal"></span>
            </a>
        {{/if}}
        {{#if gotDictionary}}
            <a href="#" id="showLecture">
                <img class="card-button showLectureImage"
                     data-type="cardNavigation"
                     data-toggle="collapse"
                     data-target="#collapseLecture-{{_id}}"
                     src="/img/beolingus.png">
            </a>
        {{/if}}
    </div>
</template>

<template name="flashcardHeaderContentDefaultRight">
    <div class="cardNumber cardHeaderFirstRow" data-cardtype="{{cardType}}">
        {{#if isCardset}}
            {{#unless hasCardsetPermission cardset_id}}
                {{_ "preview"}}:
                {{cardsIndex this._id}} {{_ "of"}} {{getCardsetCount false}} <br>
            {{else}}
                {{_ "admin.card.header"}} {{cardsIndex this._id}} {{_
                    "of"}} {{getCardsetCount true}}<br>
            {{/unless}}
        {{/if}}
        {{#if isBox}}
            {{_ "leitner_status" count=countLeitner}}
            <br>
        {{/if}}
    </div>
    {{#unless isEditMode}}
        {{#unless gotOneColumn}}
            {{#if gotBack}}
                <span id="turnCard" title="{{_ "card.tooltip.turnCard"}}"
                      data-cardtype="{{cardType}}">
                                                <span class="fa fa-refresh card-button {{#unless
                                                        isQuestionSide}}pressed{{/unless}}"
                                                      data-cardtype="{{cardType}}"></span>
                                    </span>
                <span id="swapOrder" data-type="cardNavigation"
                      title="{{_ "card.tooltip.lockSide"}}">
                                                <i class="fa fa-anchor card-button {{#if
                                                        reversedViewOrder}}pressed{{/if}}"
                                                   data-type="cardNavigation"></i>
                                    </span>
            {{/if}}
        {{/unless}}
    {{/unless}}
    <span id="toggleFullscreen"
          class="fullscreen"
          data-type="cardNavigation" title="{{_ "card.tooltip.fullscreen"}}">
                                                <span class="glyphicon {{#if
                                                        isWorkloadFullscreen}}glyphicon-log-out{{else}}glyphicon-fullscreen{{/if}} card-button {{#if
                                                        fullscreenActive}}pressed{{/if}}"
                                                      data-type="cardNavigation"></span>
                                    </span>
    <span class="cardfrontCheck" style="display: {{#if gotDictionary}}{{#if
            reversedViewOrder}}none{{/if}}{{/if}}"></span>
    <span class="cardbackCheck"
          style="display: {{#if gotDictionary}}{{#unless
                  reversedViewOrder}}none{{/unless}}{{else}}none{{/if}}">
                                    </span>
</template>
