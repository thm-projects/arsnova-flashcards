<template name="cardset">
  {{#if showCardsetForm}}
    {{> cardsetForm}}
  {{/if}}

  {{> sidebarCardset}}
  {{#if isActiveRoute regex='^cardsetdetails'}}
    {{> cardsetDetails}}
  {{/if}}
  {{#if isActiveRoute regex='^cardsetlist'}}
    {{> cardsetList}}
  {{/if}}
</template>

<template name="sidebarCardset">
  <div class="col-md-3">
    <div id="set-details-sideBar-region">
      <div class="well well-sm sidebar-nav">
        <h4 style="margin:0">{{name}}</h4>

        <hr />

        <span style="font-family:'Georgia'; font-style:italic">{{description}}</span>

        <hr />

        <span class="nav-header" style="padding-left:0" data-i18n="sidebar-nav.created">Erstellt von</span>
        <span style="font-family:'Georgia'">
          <a id="usr-profile2" href="/#profile/mzmn17">{{usernameFromId}}</a>
          <span data-i18n="sidebar-nav.at">am</span>
          27. Oktober 2015 18:07 Uhr
        </span>

        <hr />

        <span class="nav-header" style="padding-left:0; margin-bottom:3px" data-i18n="sidebar-nav.view">Ansicht wechseln</span>
        <div class="btn-group btn-group-xs btn-group-justified">
          <a id="btnToCardLayout" class="btn btn-default btn-cardLayout" href="/cardsetdetails/{{_id}}" data-i18n="sidebar-nav.viewmap">Karte</a>
          <a id="btnToListLayout" class="btn btn-default btn-listLayout" href="/cardsetlist/{{_id}}" data-i18n="sidebar-nav.viewlist">Liste</a>
        </div>

        <hr />

      </div>
    </div>

    <div id="set-details-rating-region"></div>

    <div id="set-details-controls-region">
      <div class="well well-sm sidebar-nav">
        <button class="btn btn-primary newCard" id="set-details-controls-btn-newCard" style="width:100%" data-i18n="sidebar-nav.createcard">Neue Karte erstellen</button>
        <button class="btn btn-default editSet" id="set-details-controls-btn-editCard" style="width:100%; margin-top:10px" data-i18n="sidebar-nav.editcard">Kartensatz editieren</button>
        <button class="btn btn-default exportSet" id="set-details-controls-btn-exportSet" style="width:100%; margin-top:10px" data-i18n="sidebar-nav.exportSet">Kartensatz exportieren</button>
      </div>
    </div>
  </div>
</template>

<template name="cardsetDetails">
  <div class="col-md-9" id="set-details-region">
    <div>
      <div id="cardCarousel" class="carousel slide">
        <div class="carousel-indicators">
          <small class="text-muted card-indicator"> </small>
        </div>

        <div class="carousel-inner">
          <div class="empty-item">
            <div class="box">
              <div class="block">
                <div class="centered front" style="font-size:2em" data-i18n="nocards">Keine Karten vorhanden</div>
              </div>
            </div>
          </div>
        </div>

        <a id="leftCarouselControl" class="left carousel-control" href="#cardCarousel" style="display: none;">
          <span class="icon-prev"></span>
        </a>

        <a id="rightCarouselControl" class="right carousel-control" href="#cardCarousel" style="display: none;">
          <span class="icon-next"></span>
        </a>
      </div>

      <div class="modal fade" id="pictureModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
              <h4 class="modal-title">&nbsp;</h4>
            </div>
            <div class="modal-body" id="setdetails-pictureModal-body"></div>
          </div><!-- /.modal-content -->
        </div><!-- /.modal-dialog -->
      </div><!-- /.modal -->

      <div class="row">
        <div class="col-md-12"><h4>&nbsp;</h4></div>
      </div>

      <div class="row">
        <div class="col-md-6">
          <div class="well well-sm setWell">
            <h4 data-i18n="learn">Lernen</h4>

            <hr />
            <hr />

            <button id="learnfile" class="btn btn-default learn btn-block" data-i18n="learnfile" disabled="">Lernkartei</button>
            <button id="memo" class="btn btn-default memo btn-block" style="margin-top:10px;" data-i18n="memo" disabled="">Memo</button>
          </div>
        </div>

        <div class="col-md-6">
          <div class="well well-sm setWell">
            <h4 data-i18n="meteor">Meteor</h4>

            <hr />

            <div class="meteorBox">
              <span data-i18n="yourhighscore">Dein Highscore:</span>
              <span class="pull-right"><span id="meteor-set-points">0</span>
                <span> </span>
                <span data-i18n="points">Punkte</span>
              </span>
            </div>

            <button id="play" class="btn btn-primary play-meteor btn-block" data-i18n="play" disabled="">Spielen</button>
          </div>
        </div>
      </div>
    </div>
  </div>
</template>

<template name="cardsetList">
  Das ist die Kartenlistansicht.
</template>


<template name="cardsetForm">
  <div class="modal fade" id="editSetModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
          <h4 class="modal-title" data-i18n="modal-dialog.editcard">Kartensatz editieren</h4>
        </div>
        <div class="modal-body">
          <div class="form-horizontal">
            <div class="form-group setdetails name">
              <label class="col-md-3 control-label" for="editSetName" data-i18n="modal-dialog.name">Name</label>
              <div class="col-md-9">
                <input class="form-control" type="text" id="editSetName">
                <span id="helpEditSetName" class="help-block name"></span>
              </div>
            </div>
            <div class="form-group setdetails description">
              <label class="col-md-3 control-label" for="editSetDescription" data-i18n="modal-dialog.description">Beschreibung</label>
              <div class="col-md-9">
                <textarea class="form-control" rows="3" id="editSetDescription"></textarea>
                <span id="helpEditSetDescription" class="help-block description"></span>
              </div>
            </div>
            <div class="form-group setdetails category">
              <label class="col-md-3 control-label" for="editSetCategory" data-i18n="modal-dialog.category">Kategorie</label>
              <div class="col-md-9">
                <input class="form-control" type="text" id="editSetCategory">
                <span id="helpEditSetCategory" class="help-block category"></span>
              </div>
            </div>
            <div class="form-group">
              <label class="col-md-3 control-label" for="editSetDescription" data-i18n="modal-dialog.visibility">Sichtbar für</label>
              <div class="controls col-md-9">
                <div class="btn-group" data-toggle="buttons">
                  <label id="visibilityoption1" class="btn private btn-default active" style="width:100px">
                    <input type="radio" name="options" value="private" id="edit_visibility_private"><span data-i18n="modal-dialog.visibilityoption1">mich</span>
                  </label>
                  <label id="visibilityoption2" class="btn public btn-default" style="width:100px">
                    <input type="radio" name="options" value="public" id="edit_visibility_public"> <span data-i18n="modal-dialog.visibilityoption2">alle</span>
                  </label>
                </div>
              </div>
            </div>
            <div class="form-group">
              <label class="col-md-3 control-label" for="newSetDescription" data-i18n="modal-dialog.rating">Bewertungen</label>
              <div class="controls col-md-9">
                <div class="btn-group btn-group-rating" data-toggle="buttons">
                  <label id="ratingoption1" class="btn rating-true btn-default active" style="width:100px">
                    <input type="radio" name="rating" value="true" id="rating_true"><span data-i18n="modal-dialog.ratingoption1">erlauben</span>
                  </label>
                  <label id="ratingoption2" class="btn rating-false btn-default" style="width:100px">
                    <input type="radio" name="rating" value="false" id="rating_false"><span data-i18n="modal-dialog.ratingoption2">abschalten</span>
                  </label>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="modal-footer">
          <button id="cardSetCancel" class="btn btn-default" data-dismiss="modal" aria-hidden="true" data-i18n="modal-dialog.cancel">Abbrechen</button>
          <button id="cardSetDelete" class="btn btn-danger pull-left btn-setDelete" style="width:150px" data-loading-text="Lösche Deck..." data-i18n="modal-dialog.delete" data-clickout="5">Kartensatz löschen</button>
          <button id="cardSetSave" class="btn btn-primary" data-loading-text="Speichere Deck..." data-i18n="modal-dialog.save">Kartensatz speichern</button>
        </div>
      </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
  </div><!-- /.modal -->
</template>
