<template name="box">
  {{#if hasPermission}}

    <!-- Sidebar -->
    <div class="col-md-3">{{> boxSide}}</div>

    <!-- Main -->
    <div class="col-md-9">
      {{#if isFinish}}
        {{> boxEnd}}
      {{else}}
        {{#if boxSelected}}
          {{> boxMain}}
        {{else}}
          {{> boxStart}}
        {{/if}}
      {{/if}}
    </div>

    <!-- Permission denied -->
  {{else}}
    <h4>{{_ "permission"}}</h4>
  {{/if}}
</template>

<!-- Sidebar -->
<template name="boxSide">
  <div id="set-learn-sideBar-region">
    <div class="well well-sm sidebar-nav">
      <h4 id="cardsetName">{{name}}</h4>
      <hr>
      <span id="cardsetDesc">{{description}}</span>
      <hr>
      <span class="nav-header" id="cardsetCreated">{{_ "createdof2"}}</span>
      <span id="cardsetWrap">
        <a href="{{pathFor route='userprofile'}}" id="cardsetUser">{{username}}</a>
        <br>
        <span>{{_ "sidebar-nav.at"}}</span>
        <span>{{getDate}}</span>
      </span>
    </div>
  </div>

  <div id="set-learn-controls-region">
    <div class="well well-sm sidebar-nav">
      <button class="btn btn-default learn-box {{selectedBox 1}}" id="subject1" value="1">
        <span class="pull-left">{{_ "subject1"}}</span>
        <span class="badge pull-right one">0</span>
      </button>
      <button class="btn btn-default learn-box {{selectedBox 2}}" id="subject2" value="2">
        <span class="pull-left">{{_ "subject2"}}</span>
        <span class="badge pull-right two">0</span>
      </button>
      <button class="btn btn-default learn-box {{selectedBox 3}}" id="subject3" value="3">
        <span class="pull-left">{{_ "subject3"}}</span>
        <span class="badge pull-right three">0</span>
      </button>
      <button class="btn btn-default learn-box {{selectedBox 4}}" id="subject4" value="4">
        <span class="pull-left">{{_ "subject4"}}</span>
        <span class="badge pull-right four">0</span>
      </button>
      <button class="btn btn-default learn-box {{selectedBox 5}}" id="subject5" value="5">
        <span class="pull-left">{{_ "subject5"}}</span>
        <span class="badge pull-right five">0</span>
      </button>
    </div>
  </div>
</template>

<!-- Startscreen -->
<template name="boxStart">
  <div class=" box">
    <div class="block">
      <div class="centered front">
        {{_ "choosesubject"}}
      </div>
    </div>
  </div>
</template>

<!-- Mainscreen -->
<template name="boxMain">
  <div class="carousel slide" id="cardCarousel">
    <div class="carousel-indicators">
      <small class="text-muted card-indicator">Noch 1 Karte im aktuellen Fach</small>
    </div>
    <div class="carousel-inner">
      <div class="item active">
        <div class="box">
          <span class="clicktoflip" id="clicktoflip">Click to flip</span>

          {{#if isFront}}
            <img class="cardside cardfront-symbol" src="/img/icon_front.png">
            <div class="block">
              <div class="cardContent centered front active">
                <p>Front</p>
              </div>
            </div>
          {{else}}
            <img class="cardside cardback-symbol" src="/img/icon_back.png">
            <div class="block">
              <div class="cardContent centered front active">
                <p>Back</p>
              </div>
            </div>
          {{/if}}

        </div>
      </div>
    </div>
  </div>

  {{#if isFront}}
    <!-- Helptext -->
    <div class="learn-cardHelptext">
      <span>{{_ "clickcart"}}</span>
    </div>
  {{else}}
    <!-- Navigation -->
    <br>
    <div id="learn-navigation" class="btn-group btn-group-justified">
      <div class="btn-group" role="group">
        <button class="btn btn-primary answer card-success" id="know">{{_ "know"}}</button>
      </div>
      <div class="btn-group" role="group">
        <button class="btn btn-default answer card-fail" id="notknow">{{_ "notknow"}}</button>
      </div>
    </div>
  {{/if}}

</template>

<!-- Endscreen -->
<template name="boxEnd">
  <div class="box learn-endscreen">
    <div class="block">
      <div class="centered front learnbox-success">{{_ "learn-endscreen.success"}}</div>
      <div class="centered front learnbox-choose-message">{{_ "learn-endscreen.back"}}</div>
      <br>
      <a class="btn-back btn btn-default btn-s learn-back" id="endscreenBack" onclick="history.go(-1)">
        <span>{{_ "learn-endscreen.back2"}}</span>
      </a>
    </div>
  </div>
</template>
